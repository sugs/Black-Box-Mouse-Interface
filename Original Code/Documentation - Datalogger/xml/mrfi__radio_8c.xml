<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.7.6.1">
  <compounddef id="mrfi__radio_8c" kind="file">
    <compoundname>mrfi_radio.c</compoundname>
    <includes local="no">string.h</includes>
    <includes refid="mrfi_8h" local="yes">mrfi.h</includes>
    <includes refid="bsp_8h" local="yes">bsp.h</includes>
    <includes refid="bsp__macros_8h" local="yes">bsp_macros.h</includes>
    <includes refid="mrfi__board__defs_8h" local="yes">bsp_external/mrfi_board_defs.h</includes>
    <includes refid="mrfi__defs_8h" local="yes">mrfi_defs.h</includes>
    <includes refid="mrfi__radio__interface_8h" local="yes">mrfi_radio_interface.h</includes>
    <includes refid="smartrf__CC430_8h" local="yes">smartrf/CC430/smartrf_CC430.h</includes>
    <incdepgraph>
      <node id="1322">
        <label>bsp_macros.h</label>
        <link refid="bsp__macros_8h"/>
      </node>
      <node id="1317">
        <label>mrfi.h</label>
        <link refid="mrfi_8h"/>
        <childnode refid="1318" relation="include">
        </childnode>
        <childnode refid="1323" relation="include">
        </childnode>
      </node>
      <node id="1325">
        <label>mrfi_radio_interface.h</label>
        <link refid="mrfi__radio__interface_8h"/>
        <childnode refid="1318" relation="include">
        </childnode>
      </node>
      <node id="1323">
        <label>mrfi_defs.h</label>
        <link refid="mrfi__defs_8h"/>
        <childnode refid="1318" relation="include">
        </childnode>
      </node>
      <node id="1326">
        <label>smartrf/CC430/smartrf_CC430.h</label>
        <link refid="smartrf__CC430_8h"/>
      </node>
      <node id="1319">
        <label>bsp_board_defs.h</label>
        <link refid="bsp__board__defs_8h"/>
        <childnode refid="1320" relation="include">
        </childnode>
        <childnode refid="1321" relation="include">
        </childnode>
      </node>
      <node id="1316">
        <label>string.h</label>
      </node>
      <node id="1324">
        <label>bsp_external/mrfi_board_defs.h</label>
        <link refid="mrfi__board__defs_8h"/>
        <childnode refid="1318" relation="include">
        </childnode>
      </node>
      <node id="1320">
        <label>mcus/bsp_msp430_defs.h</label>
        <link refid="bsp__msp430__defs_8h"/>
      </node>
      <node id="1318">
        <label>bsp.h</label>
        <link refid="bsp_8h"/>
        <childnode refid="1319" relation="include">
        </childnode>
        <childnode refid="1322" relation="include">
        </childnode>
      </node>
      <node id="1321">
        <label>bsp_config.h</label>
        <link refid="bsp__config_8h"/>
      </node>
      <node id="1315">
        <label>/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c</label>
        <link refid="mrfi_radio.c"/>
        <childnode refid="1316" relation="include">
        </childnode>
        <childnode refid="1317" relation="include">
        </childnode>
        <childnode refid="1318" relation="include">
        </childnode>
        <childnode refid="1322" relation="include">
        </childnode>
        <childnode refid="1324" relation="include">
        </childnode>
        <childnode refid="1323" relation="include">
        </childnode>
        <childnode refid="1325" relation="include">
        </childnode>
        <childnode refid="1326" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="mrfi__radio_8c_1a0da8ef923d22d977d308369e46156f70" prot="public" static="no">
        <name>MRFI_LENGTH_FIELD_OFS</name>
        <initializer>__mrfi_LENGTH_FIELD_OFS__</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="71" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="71" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" prot="public" static="no">
        <name>MRFI_LENGTH_FIELD_SIZE</name>
        <initializer>__mrfi_LENGTH_FIELD_SIZE__</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="72" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="72" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a61e20276a6dd9ac02e81b9608284f38e" prot="public" static="no">
        <name>MRFI_HEADER_SIZE</name>
        <initializer>__mrfi_HEADER_SIZE__</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="73" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="73" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a4ce86ec9ba28dd0ff99dc43aa1882380" prot="public" static="no">
        <name>MRFI_FRAME_BODY_OFS</name>
        <initializer>__mrfi_DST_ADDR_OFS__</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="74" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="74" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a28f210c6c01036d6ce3de2e323682112" prot="public" static="no">
        <name>MRFI_BACKOFF_PERIOD_USECS</name>
        <initializer>__mrfi_BACKOFF_PERIOD_USECS__</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="75" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="75" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1adf39d1352e9a6635f0657d73d7362b37" prot="public" static="no">
        <name>MRFI_RANDOM_OFFSET</name>
        <initializer>67</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="77" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="77" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1afddadaf48b68e6de984a18306f18b1b6" prot="public" static="no">
        <name>MRFI_RANDOM_MULTIPLIER</name>
        <initializer>109</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="78" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="78" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a09db40de2fed1444a1c3eadcb5b880b7" prot="public" static="no">
        <name>MRFI_MIN_SMPL_FRAME_SIZE</name>
        <initializer>(<ref refid="mrfi__radio_8c_1a61e20276a6dd9ac02e81b9608284f38e" kindref="member">MRFI_HEADER_SIZE</ref> + <ref refid="mrfi_8h_1a7b122b52bf23aef41be992af11be19af" kindref="member">NWK_HDR_SIZE</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="79" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="79" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a86ba6280637d3e6f090d3567936576f1" prot="public" static="no">
        <name>MRFI_RX_METRICS_CRC_OK_MASK</name>
        <initializer>__mrfi_RX_METRICS_CRC_OK_MASK__</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="82" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="82" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a60160d4d48187c255fca1ec15b9cd588" prot="public" static="no">
        <name>MRFI_RX_METRICS_LQI_MASK</name>
        <initializer>__mrfi_RX_METRICS_LQI_MASK__</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="83" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="83" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1ac90b0564721af766d5806a40a5097e71" prot="public" static="no">
        <name>MRFI_RADIO_PARTNUM</name>
        <initializer>0x00</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="88" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="88" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a91061665657c64ad3bcb7d07595f0502" prot="public" static="no">
        <name>MRFI_RADIO_VERSION</name>
        <initializer>0x06</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="89" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="89" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1ac5cd728a2ad21cd9d9f71290a3350ae7" prot="public" static="no">
        <name>MRFI_SETTING_IOCFG0</name>
        <initializer>27</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="92" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="92" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a713243be30f66a3d88e5331c0e14dbf0" prot="public" static="no">
        <name>MRFI_SETTING_IOCFG1</name>
        <initializer>30</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="95" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="95" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a3aecf8dc39c7cebe38be959e300920f9" prot="public" static="no">
        <name>MRFI_SETTING_MCSM0</name>
        <initializer>(0x10)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="101" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="101" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a5ebc21b93631d33f53520d630df00f40" prot="public" static="no">
        <name>MRFI_SETTING_MCSM1</name>
        <initializer>0x3C</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="108" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="108" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1ae904776eb9f8e990adba24be3f11c82a" prot="public" static="no">
        <name>MRFI_SETTING_PKTLEN</name>
        <initializer>(<ref refid="mrfi_8h_1abe6c088541b7554888dce7feecb6882e" kindref="member">MRFI_MAX_FRAME_SIZE</ref> - <ref refid="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" kindref="member">MRFI_LENGTH_FIELD_SIZE</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="115" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="115" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a997c5fa58e20ceb3d72ef1642aee0aa6" prot="public" static="no">
        <name>MRFI_SETTING_PKTCTRL0</name>
        <initializer>(0x05 | (SMARTRF_SETTING_PKTCTRL0 &amp; BV(6)))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="118" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="118" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1af6efeb83b7aa35aeeb6078fd89bbaadc" prot="public" static="no">
        <name>MRFI_SETTING_FIFOTHR</name>
        <initializer>(0x07 | (SMARTRF_SETTING_FIFOTHR &amp; (BV(4)|BV(5)|BV(6)|BV(7))))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="121" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="121" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a47e4855fe6e3331fc4e25a22a62522a3" prot="public" static="no">
        <name>MRFI_MAX_DELAY_US</name>
        <initializer>16 /* usec */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="127" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="127" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1adac7af41fa9315880f24cc6154c9b96e" prot="public" static="no">
        <name>PKTCTRL1_BASE_VALUE</name>
        <initializer>BV(2)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="130" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="130" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1ab55b7b899673901d1799741f5dade4cb" prot="public" static="no">
        <name>PKTCTRL1_ADDR_FILTER_OFF</name>
        <initializer><ref refid="mrfi__radio_8c_1adac7af41fa9315880f24cc6154c9b96e" kindref="member">PKTCTRL1_BASE_VALUE</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="131" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="131" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1abaa8fa66214d72a45a1bac469f318e8d" prot="public" static="no">
        <name>PKTCTRL1_ADDR_FILTER_ON</name>
        <initializer>(<ref refid="mrfi__radio_8c_1adac7af41fa9315880f24cc6154c9b96e" kindref="member">PKTCTRL1_BASE_VALUE</ref> | (BV(0)|BV(1)))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="132" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="132" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1af8ee2cd717ac3ef42d40ae1ee3761c9f" prot="public" static="no">
        <name>APP_USEC_VALUE</name>
        <initializer>1000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="146" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="146" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1af0c1d3283d7e3b03db6290f455ee7a78" prot="public" static="no">
        <name>MRFI_ENABLE_SYNC_PIN_INT</name>
        <param></param>
        <initializer>(RF1AIE |= BV(9))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="153" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="153" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a5e587f63a538e9c505e3307942253948" prot="public" static="no">
        <name>MRFI_DISABLE_SYNC_PIN_INT</name>
        <param></param>
        <initializer>(RF1AIE &amp;= ~BV(9))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="154" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="154" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1afaf143953299bc56ff681bf53f8acba5" prot="public" static="no">
        <name>MRFI_CLEAR_SYNC_PIN_INT_FLAG</name>
        <param></param>
        <initializer>(RF1AIFG &amp;= ~BV(9))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="155" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="155" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a86d240c1c92c55339b4120817959b762" prot="public" static="no">
        <name>MRFI_SYNC_PIN_INT_IS_ENABLED</name>
        <param></param>
        <initializer>(RF1AIE &amp; BV(9))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="156" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="156" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1addca5ce5faac29bc9cc9c0bc3c1b1f94" prot="public" static="no">
        <name>MRFI_SYNC_PIN_IS_HIGH</name>
        <param></param>
        <initializer>(RF1AIN &amp; BV(9))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="157" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="157" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1af89391534a376299a3feb5876a8873f7" prot="public" static="no">
        <name>MRFI_SYNC_PIN_INT_FLAG_IS_SET</name>
        <param></param>
        <initializer>(RF1AIFG &amp; BV(9))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="158" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="158" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a56e2848aa58fc9dc77670931a552a8f7" prot="public" static="no">
        <name>MRFI_CLEAR_PAPD_PIN_INT_FLAG</name>
        <param></param>
        <initializer>(RF1AIFG &amp;= ~BV(0))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="161" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="161" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1aa1c1aec4671423a25ae9cba8383e969f" prot="public" static="no">
        <name>MRFI_PAPD_PIN_IS_HIGH</name>
        <param></param>
        <initializer>(RF1AIN &amp; BV(0))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="162" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="162" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1adef92926d2447fe134406a81dfb7bb06" prot="public" static="no">
        <name>MRFI_PAPD_INT_FLAG_IS_SET</name>
        <param></param>
        <initializer>(RF1AIFG &amp; BV(0))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="163" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="163" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a99bfbdbcc244f20e208f8ff506ed7f72" prot="public" static="no">
        <name>MRFI_RSSI_VALID_WAIT</name>
        <param></param>
        <initializer>while(!(RF1AIN &amp; BV(1)));</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="167" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="167" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" prot="public" static="no">
        <name>MRFI_STROBE</name>
        <param><defname>cmd</defname></param>
        <initializer><ref refid="mrfi__radio__interface_8h_1ad8967907085371a9791e8221846d93b3" kindref="member">mrfiRadioInterfaceCmdStrobe</ref>(cmd)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="173" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="173" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" prot="public" static="no">
        <name>MRFI_RADIO_REG_READ</name>
        <param><defname>reg</defname></param>
        <initializer><ref refid="mrfi__radio__interface_8h_1a11719585933c0185bebb9dbed7176809" kindref="member">mrfiRadioInterfaceReadReg</ref>(reg)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="174" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="174" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" prot="public" static="no">
        <name>MRFI_RADIO_REG_WRITE</name>
        <param><defname>reg</defname></param>
        <param><defname>value</defname></param>
        <initializer><ref refid="mrfi__radio__interface_8h_1a8a72d3f71f068d13c6b23e79ecb4d068" kindref="member">mrfiRadioInterfaceWriteReg</ref>(reg, value)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="175" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="175" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a26a5fc3507fd49d2e84d6eb295092214" prot="public" static="no">
        <name>MRFI_RADIO_WRITE_TX_FIFO</name>
        <param><defname>pData</defname></param>
        <param><defname>len</defname></param>
        <initializer><ref refid="mrfi__radio__interface_8h_1a9f3258b3c239ba2e1d19f0849804f1eb" kindref="member">mrfiRadioInterfaceWriteTxFifo</ref>(pData, len)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="176" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="176" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a724b8e50996532ea9d61c34a061911bd" prot="public" static="no">
        <name>MRFI_RADIO_READ_RX_FIFO</name>
        <param><defname>pData</defname></param>
        <param><defname>len</defname></param>
        <initializer><ref refid="mrfi__radio__interface_8h_1af27e8692fe2496182dea8582524f7a30" kindref="member">mrfiRadioInterfaceReadRxFifo</ref>(pData, len)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="177" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="177" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" prot="public" static="no">
        <name>MRFI_STROBE_IDLE_AND_WAIT</name>
        <param></param>
        <initializer>{                                                \
  <ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>( <ref refid="mrfi__radio__interface_8h_1aef368d9ea417d6c5df128fee7164cdd8" kindref="member">SIDLE</ref> );                          \
  /* Wait for XOSC to be stable and radio in IDLE state */ \
  while (<ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>( <ref refid="mrfi__radio__interface_8h_1aa3d7d1f0fe23d7285647e73b9d2a8022" kindref="member">SNOP</ref> ) &amp; 0xF0) ;           \
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="185" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="180" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a51f2fb3d75034767bf2acd9b18700b06" prot="public" static="no">
        <name>MRFI_RADIO_OSC_FREQ</name>
        <initializer>26000000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="552"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1a675cb21c2b8a1d19f8bc7340a841d3bd" prot="public" static="no">
        <name>PHY_PREAMBLE_SYNC_BYTES</name>
        <initializer>8</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="553"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1addf1c7a9247fbab51c85d782149ef216" prot="public" static="no">
        <name>MRFI_RADIO_TX_FIFO_SIZE</name>
        <initializer>64  /* from datasheet */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1740" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1740" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mrfi__radio_8c_1ae4b9533713105c031f9573a961122608" prot="public" static="no">
        <name>MRFI_RADIO_MAX_PKTLEN</name>
        <initializer>(<ref refid="mrfi__radio_8c_1addf1c7a9247fbab51c85d782149ef216" kindref="member">MRFI_RADIO_TX_FIFO_SIZE</ref> - <ref refid="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" kindref="member">MRFI_LENGTH_FIELD_SIZE</ref> - <ref refid="mrfi_8h_1a852beca8e3f6f3c1338ceac7a8b4d6a0" kindref="member">MRFI_RX_METRICS_SIZE</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1741" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1741" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" prot="public" static="no" mutable="no">
        <type>const <ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>const uint8_t mrfiBroadcastAddr[]</definition>
        <argsstring>[]</argsstring>
        <name>mrfiBroadcastAddr</name>
        <initializer> { 0xFF, 0xFF, 0xFF, 0xFF }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="56" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="56" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" prot="public" static="no" mutable="no">
        <type>const <ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>const uint8_t mrfiRadioCfg[][2]</definition>
        <argsstring>[][2]</argsstring>
        <name>mrfiRadioCfg</name>
        <initializer>
{
  
  {   0x02  ,     27        }, 
  {   0x01  ,     30        }, 
  {   0x17  ,      0x3C         }, 
  {   0x18  ,      (0x10)         }, 
  {   0x06  ,     (MRFI_MAX_FRAME_SIZE -  __mrfi_LENGTH_FIELD_SIZE__ )        },
  {   0x08  ,   (0x05 | (SMARTRF_SETTING_PKTCTRL0 &amp; BV(6)))      },
  {   0x03  ,    (0x07 | (SMARTRF_SETTING_FIFOTHR &amp; (BV(4)|BV(5)|BV(6)|BV(7))))       },



  {   0x0B  ,   SMARTRF_SETTING_FSCTRL1   },
  {   0x0C  ,   SMARTRF_SETTING_FSCTRL0   },
  {   0x0D  ,     SMARTRF_SETTING_FREQ2     },
  {   0x0E  ,     SMARTRF_SETTING_FREQ1     },
  {   0x0F  ,     SMARTRF_SETTING_FREQ0     },
  {   0x10  ,   SMARTRF_SETTING_MDMCFG4   },
  {   0x11  ,   SMARTRF_SETTING_MDMCFG3   },
  {   0x12  ,   SMARTRF_SETTING_MDMCFG2   },
  {   0x13  ,   SMARTRF_SETTING_MDMCFG1   },
  {   0x14  ,   SMARTRF_SETTING_MDMCFG0   },
  {   0x15  ,   SMARTRF_SETTING_DEVIATN   },
  {   0x19  ,    SMARTRF_SETTING_FOCCFG    },
  {   0x1A  ,     SMARTRF_SETTING_BSCFG     },
  {   0x1B  ,  SMARTRF_SETTING_AGCCTRL2  },
  {   0x1C  ,  SMARTRF_SETTING_AGCCTRL1  },
  {   0x1D  ,  SMARTRF_SETTING_AGCCTRL0  },
  {   0x21  ,    SMARTRF_SETTING_FREND1    },
  {   0x22  ,    SMARTRF_SETTING_FREND0    },
  {   0x23  ,    SMARTRF_SETTING_FSCAL3    },
  {   0x24  ,    SMARTRF_SETTING_FSCAL2    },
  {   0x25  ,    SMARTRF_SETTING_FSCAL1    },
  {   0x26  ,    SMARTRF_SETTING_FSCAL0    },
  {   0x2C  ,     SMARTRF_SETTING_TEST2     },
  {   0x2D  ,     SMARTRF_SETTING_TEST1     },
  {   0x2E  ,     SMARTRF_SETTING_TEST0     },
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="230" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="192" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a38b17c489ff64492e96bdd9815de8456" prot="public" static="yes" mutable="no">
        <type>const <ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>const uint8_t mrfiRFPowerTable[]</definition>
        <argsstring>[]</argsstring>
        <name>mrfiRFPowerTable</name>
        <initializer>
{

  0x0F,
  0x27,














}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="322" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="303" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a6f6fa3a6d7ec2b31dd3daf3b57a7496b" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t mrfiRadioState</definition>
        <argsstring></argsstring>
        <name>mrfiRadioState</name>
        <initializer> <ref refid="mrfi_8h_1a5f3af80ee18499bbcefd751cb8828665" kindref="member">MRFI_RADIO_STATE_UNKNOWN</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="351" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="351" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a09c03a05a6e2f7bb6f396617c79948db" prot="public" static="yes" mutable="no">
        <type><ref refid="structmrfiPacket__t" kindref="compound">mrfiPacket_t</ref></type>
        <definition>mrfiPacket_t mrfiIncomingPacket</definition>
        <argsstring></argsstring>
        <name>mrfiIncomingPacket</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="352" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="352" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1ab9d7f1ca3de7599f48559d639b6e57dc" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t mrfiRndSeed</definition>
        <argsstring></argsstring>
        <name>mrfiRndSeed</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="353" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="353" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a8706cd61170522359dfb1328df63da22" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>volatile uint8_t sKillSem</definition>
        <argsstring></argsstring>
        <name>sKillSem</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="356" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="356" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a468dd8d389647a773c48603f77add77e" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>volatile uint8_t sReplyDelayContext</definition>
        <argsstring></argsstring>
        <name>sReplyDelayContext</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="357" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="357" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a75fb1d33bb56d58cb4bff1a1e670bc4b" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref></type>
        <definition>uint16_t sReplyDelayScalar</definition>
        <argsstring></argsstring>
        <name>sReplyDelayScalar</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="358" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="358" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1ac5ce5b4dc46a2f656f3911e423ea11b8" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref></type>
        <definition>uint16_t sBackoffHelper</definition>
        <argsstring></argsstring>
        <name>sBackoffHelper</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="359" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="359" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a883da5db4c1f526dcfeb4b718e5d090e" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t mrfiRxFilterEnabled</definition>
        <argsstring></argsstring>
        <name>mrfiRxFilterEnabled</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="361" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="361" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1add2747b769377fe1c9a1bf5d43f91cef" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t mrfiRxFilterAddr[MRFI_ADDR_SIZE]</definition>
        <argsstring>[MRFI_ADDR_SIZE]</argsstring>
        <name>mrfiRxFilterAddr</name>
        <initializer> { RX_FILTER_ADDR_INITIAL_VALUE }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="362" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="362" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a79491f8113deb05c8388d87149fd7e29" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref></type>
        <definition>uint32_t crcFail</definition>
        <argsstring></argsstring>
        <name>crcFail</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="365" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="365" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a62c335c108c5a66c5b989a18eeda96e2" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref></type>
        <definition>uint32_t crcPass</definition>
        <argsstring></argsstring>
        <name>crcPass</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="366" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="366" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a1ab782943ee97431567139bc6ed1b4c0" prot="public" static="yes" mutable="no">
        <type><ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref></type>
        <definition>uint32_t noFrame</definition>
        <argsstring></argsstring>
        <name>noFrame</name>
        <initializer> 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="367" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="367" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="mrfi__radio_8c_1a55a1853b6162eeba67c19fc1c0389901" prot="public" static="no" mutable="no">
        <type>unsigned char</type>
        <definition>unsigned char rf_frequoffset</definition>
        <argsstring></argsstring>
        <name>rf_frequoffset</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="371" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/main.c" bodystart="110" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="mrfi__radio_8c_1a23e9b7f5d448e280084b42c4803b17dd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BSP_STATIC_ASSERT</definition>
        <argsstring>(MRFI_ADDR_SIZE==((sizeof(mrfiBroadcastAddr)/sizeof(mrfiBroadcastAddr[0]))*sizeof(mrfiBroadcastAddr[0])))</argsstring>
        <name>BSP_STATIC_ASSERT</name>
        <param>
          <type><ref refid="mrfi_8h_1a5491e55db4c46a461c9e86faa9e0a9b1" kindref="member">MRFI_ADDR_SIZE</ref></type>
          <defval>=((sizeof(<ref refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>)/sizeof(<ref refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0]))*sizeof(<ref refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0]))</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="59"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a2c23a35efaa6f94b6e602789fc28f6f8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BSP_STATIC_ASSERT</definition>
        <argsstring>(__mrfi_NUM_LOGICAL_CHANS__==((sizeof(mrfiLogicalChanTable)/sizeof(mrfiLogicalChanTable[0]))*sizeof(mrfiLogicalChanTable[0])))</argsstring>
        <name>BSP_STATIC_ASSERT</name>
        <param>
          <type>__mrfi_NUM_LOGICAL_CHANS__</type>
          <defval>=((sizeof(mrfiLogicalChanTable)/sizeof(mrfiLogicalChanTable[0]))*sizeof(mrfiLogicalChanTable[0]))</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="285"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1ad1c084965066f15fd16fe1e5632b8abb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BSP_STATIC_ASSERT</definition>
        <argsstring>(__mrfi_NUM_POWER_SETTINGS__==((sizeof(mrfiRFPowerTable)/sizeof(mrfiRFPowerTable[0]))*sizeof(mrfiRFPowerTable[0])))</argsstring>
        <name>BSP_STATIC_ASSERT</name>
        <param>
          <type>__mrfi_NUM_POWER_SETTINGS__</type>
          <defval>=((sizeof(<ref refid="mrfi__radio_8c_1a38b17c489ff64492e96bdd9815de8456" kindref="member">mrfiRFPowerTable</ref>)/sizeof(<ref refid="mrfi__radio_8c_1a38b17c489ff64492e96bdd9815de8456" kindref="member">mrfiRFPowerTable</ref>[0]))*sizeof(<ref refid="mrfi__radio_8c_1a38b17c489ff64492e96bdd9815de8456" kindref="member">mrfiRFPowerTable</ref>[0]))</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="331"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a083771eeaddacd61cdda9949a8d1e3c8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Mrfi_SyncPinRxIsr</definition>
        <argsstring>(void)</argsstring>
        <name>Mrfi_SyncPinRxIsr</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="337" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="806" bodyend="999"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a75fb468376bdd2a0153a132ae6e63a57" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Mrfi_RxModeOn</definition>
        <argsstring>(void)</argsstring>
        <name>Mrfi_RxModeOn</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="338" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1011" bodyend="1021"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a5ecaec7c14473496c253ade03429c4cf" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Mrfi_RandomBackoffDelay</definition>
        <argsstring>(void)</argsstring>
        <name>Mrfi_RandomBackoffDelay</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="339" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1354" bodyend="1367"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Mrfi_RxModeOff</definition>
        <argsstring>(void)</argsstring>
        <name>Mrfi_RxModeOff</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="340" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1057" bodyend="1070"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1aba4df305a531259d11ecc7f6e93eb188" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Mrfi_DelayUsec</definition>
        <argsstring>(uint16_t howLong)</argsstring>
        <name>Mrfi_DelayUsec</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref></type>
          <declname>howLong</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="341" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1385" bodyend="1401"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1aad4d0f03bbaa5047b7cee916ac700969" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Mrfi_DelayUsecSem</definition>
        <argsstring>(uint16_t howLong)</argsstring>
        <name>Mrfi_DelayUsecSem</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref></type>
          <declname>howLong</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="342" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1418" bodyend="1438"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1afc905a5c17aaf33a0eb561035eda6caf" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bsp__msp430__defs_8h_1aef44329758059c91c76d334e8fc09700" kindref="member">int8_t</ref></type>
        <definition>int8_t Mrfi_CalculateRssi</definition>
        <argsstring>(uint8_t rawValue)</argsstring>
        <name>Mrfi_CalculateRssi</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
          <declname>rawValue</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="343" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1300" bodyend="1323"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a5f770a9f4e5bdbcce429e1cb7311497f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t Mrfi_RxAddrIsFiltered</definition>
        <argsstring>(uint8_t *pAddr)</argsstring>
        <name>Mrfi_RxAddrIsFiltered</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref> *</type>
          <declname>pAddr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="344" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1678" bodyend="1731"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a904283541714111237662f0720c7643d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_Init</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_Init</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="384" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="383" bodyend="590"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a8a272a2f6067c4ebb3ddbdffb75d4f94" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t MRFI_Transmit</definition>
        <argsstring>(mrfiPacket_t *pPacket, uint8_t txType)</argsstring>
        <name>MRFI_Transmit</name>
        <param>
          <type><ref refid="structmrfiPacket__t" kindref="compound">mrfiPacket_t</ref> *</type>
          <declname>pPacket</declname>
        </param>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
          <declname>txType</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="606" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="605" bodyend="773"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1aade04b28418e5c8c463b3e770671dc89" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_Receive</definition>
        <argsstring>(mrfiPacket_t *pPacket)</argsstring>
        <name>MRFI_Receive</name>
        <param>
          <type><ref refid="structmrfiPacket__t" kindref="compound">mrfiPacket_t</ref> *</type>
          <declname>pPacket</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="788" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="787" bodyend="790"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1accfc12020f50d7ac7053f230cbaecaeb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_RxOn</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_RxOn</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1035" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1034" bodyend="1045"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a18ce44f02f22c82b5750eda677313586" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_RxIdle</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_RxIdle</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1085" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1084" bodyend="1095"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a796a81bd9697dbaca7ac470b4456a4fb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_Sleep</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_Sleep</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1109" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1108" bodyend="1135"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1ad6e514add1df68c6f3d95f2b40ae675e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_WakeUp</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_WakeUp</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1149" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1148" bodyend="1160"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a75f26c779654e013c622fb6b1e477929" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_RadioIsr</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_RadioIsr</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1177" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1176" bodyend="1254"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a1cd4ab60377864697beb8c7f8f408adc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bsp__msp430__defs_8h_1aef44329758059c91c76d334e8fc09700" kindref="member">int8_t</ref></type>
        <definition>int8_t MRFI_Rssi</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_Rssi</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1268" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1267" bodyend="1287"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a6b3e99528ed42a97268bf7049adb4d54" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t MRFI_RandomByte</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_RandomByte</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1338" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1337" bodyend="1342"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a18c106468b2941bb9d7a59c3018c125b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_DelayMs</definition>
        <argsstring>(uint16_t milliseconds)</argsstring>
        <name>MRFI_DelayMs</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref></type>
          <declname>milliseconds</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1451" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1450" bodyend="1457"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a5c2aca575e24fe94af467ed01dcbfe3c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_ReplyDelay</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_ReplyDelay</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1473" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1472" bodyend="1495"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1aaaf153a631431034366287b4bda0e20b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_PostKillSem</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_PostKillSem</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1509" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1508" bodyend="1517"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a78b8022aa1ad9df54a267a1294ac6942" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t MRFI_GetRadioState</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_GetRadioState</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1530" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1529" bodyend="1532"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1ab72759da83914d510c2302d378a71d30" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_SetLogicalChannel</definition>
        <argsstring>(uint8_t chan)</argsstring>
        <name>MRFI_SetLogicalChannel</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
          <declname>chan</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1546" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1545" bodyend="1560"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a289846de3444facbbaace8d79ab6f9fb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_SetRFPwr</definition>
        <argsstring>(uint8_t level)</argsstring>
        <name>MRFI_SetRFPwr</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
          <declname>level</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1573" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1572" bodyend="1580"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a6e7d9045c88bed685ac7424103aa0b99" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref></type>
        <definition>uint8_t MRFI_SetRxAddrFilter</definition>
        <argsstring>(uint8_t *pAddr)</argsstring>
        <name>MRFI_SetRxAddrFilter</name>
        <param>
          <type><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref> *</type>
          <declname>pAddr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1593" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1592" bodyend="1622"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1adc6ecae669970becb9917673fe548e55" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_EnableRxAddrFilter</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_EnableRxAddrFilter</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1636" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1635" bodyend="1644"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a4d01c68a913ebac8aad07c90f333aff1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void MRFI_DisableRxAddrFilter</definition>
        <argsstring>(void)</argsstring>
        <name>MRFI_DisableRxAddrFilter</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1658" bodyfile="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" bodystart="1657" bodyend="1664"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1ae5760a584dc9fd248d7391c006126464" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BSP_STATIC_ASSERT</definition>
        <argsstring>(sizeof(mrfiRadioCfg)==((sizeof(mrfiRadioCfg)/sizeof(mrfiRadioCfg[0]))*sizeof(mrfiRadioCfg[0])))</argsstring>
        <name>BSP_STATIC_ASSERT</name>
        <param>
          <type>sizeof(<ref refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" kindref="member">mrfiRadioCfg</ref>)</type>
          <defval>=((sizeof(<ref refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" kindref="member">mrfiRadioCfg</ref>)/sizeof(<ref refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" kindref="member">mrfiRadioCfg</ref>[0]))*sizeof(<ref refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" kindref="member">mrfiRadioCfg</ref>[0]))</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1766"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1a300b617841ae221a09ca148ce0cc708f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BSP_STATIC_ASSERT</definition>
        <argsstring>(sizeof(mrfiLogicalChanTable)==((sizeof(mrfiLogicalChanTable)/sizeof(mrfiLogicalChanTable[0]))*sizeof(mrfiLogicalChanTable[0])))</argsstring>
        <name>BSP_STATIC_ASSERT</name>
        <param>
          <type>sizeof(mrfiLogicalChanTable)</type>
          <defval>=((sizeof(mrfiLogicalChanTable)/sizeof(mrfiLogicalChanTable[0]))*sizeof(mrfiLogicalChanTable[0]))</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1774"/>
      </memberdef>
      <memberdef kind="function" id="mrfi__radio_8c_1aa7c26a2dc6997d0ec6ee05ebf93da3aa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BSP_STATIC_ASSERT</definition>
        <argsstring>(sizeof(mrfiBroadcastAddr)==((sizeof(mrfiBroadcastAddr)/sizeof(mrfiBroadcastAddr[0]))*sizeof(mrfiBroadcastAddr[0])))</argsstring>
        <name>BSP_STATIC_ASSERT</name>
        <param>
          <type>sizeof(<ref refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>)</type>
          <defval>=((sizeof(<ref refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>)/sizeof(<ref refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0]))*sizeof(<ref refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0]))</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c" line="1775"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/><sp/>Revised:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$Date:<sp/>2009-11-23<sp/>07:50:43<sp/>-0800<sp/>(Mon,<sp/>23<sp/>Nov<sp/>2009)<sp/>$</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/><sp/>Revision:<sp/><sp/><sp/><sp/><sp/><sp/><sp/>$Revision:<sp/>21225<sp/>$</highlight></codeline>
<codeline lineno="4"><highlight class="comment"></highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/><sp/>Copyright<sp/>2008-2009<sp/>Texas<sp/>Instruments<sp/>Incorporated.<sp/><sp/>All<sp/>rights<sp/>reserved.</highlight></codeline>
<codeline lineno="6"><highlight class="comment"></highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/><sp/>IMPORTANT:<sp/>Your<sp/>use<sp/>of<sp/>this<sp/>Software<sp/>is<sp/>limited<sp/>to<sp/>those<sp/>specific<sp/>rights<sp/>granted<sp/>under</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/><sp/>the<sp/>terms<sp/>of<sp/>a<sp/>software<sp/>license<sp/>agreement<sp/>between<sp/>the<sp/>user<sp/>who<sp/>downloaded<sp/>the<sp/>software,</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/><sp/>his/her<sp/>employer<sp/>(which<sp/>must<sp/>be<sp/>your<sp/>employer)<sp/>and<sp/>Texas<sp/>Instruments<sp/>Incorporated<sp/>(the</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/><sp/>&quot;License&quot;).<sp/>You<sp/>may<sp/>not<sp/>use<sp/>this<sp/>Software<sp/>unless<sp/>you<sp/>agree<sp/>to<sp/>abide<sp/>by<sp/>the<sp/>terms<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/><sp/>License.<sp/>The<sp/>License<sp/>limits<sp/>your<sp/>use,<sp/>and<sp/>you<sp/>acknowledge,<sp/>that<sp/>the<sp/>Software<sp/>may<sp/>not<sp/>be</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/><sp/>modified,<sp/>copied<sp/>or<sp/>distributed<sp/>unless<sp/>embedded<sp/>on<sp/>a<sp/>Texas<sp/>Instruments<sp/>microcontroller</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/><sp/>or<sp/>used<sp/>solely<sp/>and<sp/>exclusively<sp/>in<sp/>conjunction<sp/>with<sp/>a<sp/>Texas<sp/>Instruments<sp/>radio<sp/>frequency</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/><sp/>transceiver,<sp/>which<sp/>is<sp/>integrated<sp/>into<sp/>your<sp/>product.<sp/>Other<sp/>than<sp/>for<sp/>the<sp/>foregoing<sp/>purpose,</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/><sp/>you<sp/>may<sp/>not<sp/>use,<sp/>reproduce,<sp/>copy,<sp/>prepare<sp/>derivative<sp/>works<sp/>of,<sp/>modify,<sp/>distribute,</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/><sp/>perform,<sp/>display<sp/>or<sp/>sell<sp/>this<sp/>Software<sp/>and/or<sp/>its<sp/>documentation<sp/>for<sp/>any<sp/>purpose.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"></highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/><sp/>YOU<sp/>FURTHER<sp/>ACKNOWLEDGE<sp/>AND<sp/>AGREE<sp/>THAT<sp/>THE<sp/>SOFTWARE<sp/>AND<sp/>DOCUMENTATION<sp/>ARE<sp/>PROVIDED<sp/>AS<sp/>IS?</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/><sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EITHER<sp/>EXPRESS<sp/>OR<sp/>IMPLIED,<sp/>INCLUDING<sp/>WITHOUT<sp/>LIMITATION,<sp/>ANY</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/><sp/>WARRANTY<sp/>OF<sp/>MERCHANTABILITY,<sp/>TITLE,<sp/>NON-INFRINGEMENT<sp/>AND<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/><sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>TEXAS<sp/>INSTRUMENTS<sp/>OR<sp/>ITS<sp/>LICENSORS<sp/>BE<sp/>LIABLE<sp/>OR<sp/>OBLIGATED<sp/>UNDER<sp/>CONTRACT,</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/><sp/>NEGLIGENCE,<sp/>STRICT<sp/>LIABILITY,<sp/>CONTRIBUTION,<sp/>BREACH<sp/>OF<sp/>WARRANTY,<sp/>OR<sp/>OTHER<sp/>LEGAL<sp/>EQUITABLE</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/><sp/>THEORY<sp/>ANY<sp/>DIRECT<sp/>OR<sp/>INDIRECT<sp/>DAMAGES<sp/>OR<sp/>EXPENSES<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>ANY</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/><sp/>INCIDENTAL,<sp/>SPECIAL,<sp/>INDIRECT,<sp/>PUNITIVE<sp/>OR<sp/>CONSEQUENTIAL<sp/>DAMAGES,<sp/>LOST<sp/>PROFITS<sp/>OR<sp/>LOST</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/><sp/>DATA,<sp/>COST<sp/>OF<sp/>PROCUREMENT<sp/>OF<sp/>SUBSTITUTE<sp/>GOODS,<sp/>TECHNOLOGY,<sp/>SERVICES,<sp/>OR<sp/>ANY<sp/>CLAIMS<sp/>BY</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/><sp/>THIRD<sp/>PARTIES<sp/>(INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>ANY<sp/>DEFENSE<sp/>THEREOF),<sp/>OR<sp/>OTHER<sp/>SIMILAR<sp/>COSTS.</highlight></codeline>
<codeline lineno="27"><highlight class="comment"></highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/><sp/>Should<sp/>you<sp/>have<sp/>any<sp/>questions<sp/>regarding<sp/>your<sp/>right<sp/>to<sp/>use<sp/>this<sp/>Software,</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/><sp/>contact<sp/>Texas<sp/>Instruments<sp/>Incorporated<sp/>at<sp/>www.TI.com.</highlight></codeline>
<codeline lineno="30"><highlight class="comment">**************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>*<sp/><sp/><sp/>MRFI<sp/>(Minimal<sp/>RF<sp/>Interface)</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Radios:<sp/>CC430</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Primary<sp/>code<sp/>file<sp/>for<sp/>supported<sp/>radios.</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>*<sp/>~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Includes</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/>*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="42"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mrfi_8h" kindref="compound">mrfi.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="bsp_8h" kindref="compound">bsp.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="bsp__macros_8h" kindref="compound">bsp_macros.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mrfi__board__defs_8h" kindref="compound">bsp_external/mrfi_board_defs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mrfi__defs_8h" kindref="compound">mrfi_defs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mrfi__radio__interface_8h" kindref="compound">mrfi_radio_interface.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="smartrf__CC430_8h" kindref="compound">smartrf/CC430/smartrf_CC430.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Global<sp/>Constants</highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/>*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56" refid="mrfi__radio_8c_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[]<sp/>=<sp/>{<sp/>0xFF,<sp/>0xFF,<sp/>0xFF,<sp/>0xFF<sp/>};</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>verify<sp/>number<sp/>of<sp/>table<sp/>entries<sp/>matches<sp/>the<sp/>corresponding<sp/>#define<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><ref refid="bsp_8h_1aae3bdc117283b7ac5f61db061a66f7f0" kindref="member">BSP_STATIC_ASSERT</ref>(<ref refid="mrfi_8h_1a5491e55db4c46a461c9e86faa9e0a9b1" kindref="member">MRFI_ADDR_SIZE</ref><sp/>==<sp/>((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0]))<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0])));</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="62"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Defines</highlight></codeline>
<codeline lineno="63"><highlight class="comment"><sp/>*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="64"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(defined<sp/>MRFI_CC430)</highlight></codeline>
<codeline lineno="66"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/>#define<sp/>MRFI_RSSI_OFFSET<sp/><sp/><sp/><sp/>74<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>no<sp/>units<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="68"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/>#error<sp/>&quot;ERROR:<sp/>RSSI<sp/>offset<sp/>value<sp/>not<sp/>defined<sp/>for<sp/>this<sp/>radio&quot;</highlight></codeline>
<codeline lineno="69"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="70"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71" refid="mrfi__radio_8c_1a0da8ef923d22d977d308369e46156f70" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_LENGTH_FIELD_OFS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__mrfi_LENGTH_FIELD_OFS__</highlight></codeline>
<codeline lineno="72" refid="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_LENGTH_FIELD_SIZE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__mrfi_LENGTH_FIELD_SIZE__</highlight></codeline>
<codeline lineno="73" refid="mrfi__radio_8c_1a61e20276a6dd9ac02e81b9608284f38e" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_HEADER_SIZE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__mrfi_HEADER_SIZE__</highlight></codeline>
<codeline lineno="74" refid="mrfi__radio_8c_1a4ce86ec9ba28dd0ff99dc43aa1882380" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_FRAME_BODY_OFS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__mrfi_DST_ADDR_OFS__</highlight></codeline>
<codeline lineno="75" refid="mrfi__radio_8c_1a28f210c6c01036d6ce3de2e323682112" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_BACKOFF_PERIOD_USECS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__mrfi_BACKOFF_PERIOD_USECS__</highlight></codeline>
<codeline lineno="76"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="mrfi__radio_8c_1adf39d1352e9a6635f0657d73d7362b37" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RANDOM_OFFSET<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>67</highlight></codeline>
<codeline lineno="78" refid="mrfi__radio_8c_1afddadaf48b68e6de984a18306f18b1b6" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RANDOM_MULTIPLIER<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>109</highlight></codeline>
<codeline lineno="79" refid="mrfi__radio_8c_1a09db40de2fed1444a1c3eadcb5b880b7" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_MIN_SMPL_FRAME_SIZE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(MRFI_HEADER_SIZE<sp/>+<sp/>NWK_HDR_SIZE)</highlight></codeline>
<codeline lineno="80"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>rx<sp/>metrics<sp/>definitions,<sp/>known<sp/>as<sp/>appended<sp/>&quot;packet<sp/>status<sp/>bytes&quot;<sp/>in<sp/>datasheet<sp/>parlance<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="mrfi__radio_8c_1a86ba6280637d3e6f090d3567936576f1" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RX_METRICS_CRC_OK_MASK<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__mrfi_RX_METRICS_CRC_OK_MASK__</highlight></codeline>
<codeline lineno="83" refid="mrfi__radio_8c_1a60160d4d48187c255fca1ec15b9cd588" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RX_METRICS_LQI_MASK<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__mrfi_RX_METRICS_LQI_MASK__</highlight></codeline>
<codeline lineno="84"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>----------<sp/>Radio<sp/>Abstraction<sp/>----------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="mrfi__radio_8c_1ac90b0564721af766d5806a40a5097e71" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_PARTNUM<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00</highlight></codeline>
<codeline lineno="89" refid="mrfi__radio_8c_1a91061665657c64ad3bcb7d07595f0502" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_VERSION<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x06</highlight></codeline>
<codeline lineno="90"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>GDO0<sp/>==<sp/>PA_PD<sp/>signal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92" refid="mrfi__radio_8c_1ac5cd728a2ad21cd9d9f71290a3350ae7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SETTING_IOCFG0<sp/><sp/><sp/><sp/><sp/>27</highlight></codeline>
<codeline lineno="93"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>GDO1<sp/>==<sp/>RSSI_VALID<sp/>signal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95" refid="mrfi__radio_8c_1a713243be30f66a3d88e5331c0e14dbf0" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SETTING_IOCFG1<sp/><sp/><sp/><sp/><sp/>30</highlight></codeline>
<codeline lineno="96"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Main<sp/>Radio<sp/>Control<sp/>State<sp/>Machine<sp/>control<sp/>configuration:</highlight></codeline>
<codeline lineno="98"><highlight class="comment"><sp/>*<sp/>Auto<sp/>Calibrate<sp/>-<sp/>when<sp/>going<sp/>from<sp/>IDLE<sp/>to<sp/>RX/TX</highlight></codeline>
<codeline lineno="99"><highlight class="comment"><sp/>*<sp/>XOSC<sp/>is<sp/>OFF<sp/>in<sp/>Sleep<sp/>state.</highlight></codeline>
<codeline lineno="100"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="mrfi__radio_8c_1a3aecf8dc39c7cebe38be959e300920f9" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SETTING_MCSM0<sp/><sp/><sp/><sp/><sp/><sp/>(0x10)</highlight></codeline>
<codeline lineno="102"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Main<sp/>Radio<sp/>Control<sp/>State<sp/>Machine<sp/>control<sp/>configuration:</highlight></codeline>
<codeline lineno="104"><highlight class="comment"><sp/>*<sp/>-<sp/>Remain<sp/>RX<sp/>state<sp/>after<sp/>RX</highlight></codeline>
<codeline lineno="105"><highlight class="comment"><sp/>*<sp/>-<sp/>Go<sp/>to<sp/>IDLE<sp/>after<sp/>TX</highlight></codeline>
<codeline lineno="106"><highlight class="comment"><sp/>*<sp/>-<sp/>RSSI<sp/>below<sp/>threshold<sp/>and<sp/>NOT<sp/>receiving.</highlight></codeline>
<codeline lineno="107"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108" refid="mrfi__radio_8c_1a5ebc21b93631d33f53520d630df00f40" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SETTING_MCSM1<sp/><sp/><sp/><sp/><sp/><sp/>0x3C</highlight></codeline>
<codeline lineno="109"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="111"><highlight class="comment"><sp/>*<sp/><sp/>Packet<sp/>Length<sp/>-<sp/>Setting<sp/>for<sp/>maximum<sp/>allowed<sp/>packet<sp/>length.</highlight></codeline>
<codeline lineno="112"><highlight class="comment"><sp/>*<sp/><sp/>The<sp/>PKTLEN<sp/>setting<sp/>does<sp/>not<sp/>include<sp/>the<sp/>length<sp/>field<sp/>but<sp/>maximum<sp/>frame<sp/>size<sp/>does.</highlight></codeline>
<codeline lineno="113"><highlight class="comment"><sp/>*<sp/><sp/>Subtract<sp/>length<sp/>field<sp/>size<sp/>from<sp/>maximum<sp/>frame<sp/>size<sp/>to<sp/>get<sp/>value<sp/>for<sp/>PKTLEN.</highlight></codeline>
<codeline lineno="114"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="mrfi__radio_8c_1ae904776eb9f8e990adba24be3f11c82a" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SETTING_PKTLEN<sp/><sp/><sp/><sp/><sp/>(MRFI_MAX_FRAME_SIZE<sp/>-<sp/>MRFI_LENGTH_FIELD_SIZE)</highlight></codeline>
<codeline lineno="116"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Packet<sp/>automation<sp/>control<sp/>-<sp/>Original<sp/>value<sp/>except<sp/>WHITE_DATA<sp/>is<sp/>extracted<sp/>from<sp/>SmartRF<sp/>setting.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="mrfi__radio_8c_1a997c5fa58e20ceb3d72ef1642aee0aa6" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SETTING_PKTCTRL0<sp/><sp/><sp/>(0x05<sp/>|<sp/>(SMARTRF_SETTING_PKTCTRL0<sp/>&amp;<sp/>BV(6)))</highlight></codeline>
<codeline lineno="119"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>FIFO<sp/>threshold<sp/>-<sp/>this<sp/>register<sp/>has<sp/>fields<sp/>that<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>for<sp/>the<sp/>CC1101<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121" refid="mrfi__radio_8c_1af6efeb83b7aa35aeeb6078fd89bbaadc" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SETTING_FIFOTHR<sp/><sp/><sp/><sp/>(0x07<sp/>|<sp/>(SMARTRF_SETTING_FIFOTHR<sp/>&amp;<sp/>(BV(4)|BV(5)|BV(6)|BV(7))))</highlight></codeline>
<codeline lineno="122"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Max<sp/>time<sp/>we<sp/>can<sp/>be<sp/>in<sp/>a<sp/>critical<sp/>section<sp/>within<sp/>the<sp/>delay<sp/>function.</highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/>*<sp/>This<sp/>could<sp/>be<sp/>fine-tuned<sp/>by<sp/>observing<sp/>the<sp/>overhead<sp/>is<sp/>calling<sp/>the<sp/>bsp<sp/>delay</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/>*<sp/>function.<sp/>The<sp/>overhead<sp/>should<sp/>be<sp/>very<sp/>small<sp/>compared<sp/>to<sp/>this<sp/>value.</highlight></codeline>
<codeline lineno="126"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127" refid="mrfi__radio_8c_1a47e4855fe6e3331fc4e25a22a62522a3" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_MAX_DELAY_US<sp/>16<sp/></highlight><highlight class="comment">/*<sp/>usec<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Packet<sp/>automation<sp/>control<sp/>-<sp/>base<sp/>value<sp/>is<sp/>power<sp/>up<sp/>value<sp/>whick<sp/>has<sp/>APPEND_STATUS<sp/>enabled;<sp/>no<sp/>CRC<sp/>autoflush<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130" refid="mrfi__radio_8c_1adac7af41fa9315880f24cc6154c9b96e" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PKTCTRL1_BASE_VALUE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BV(2)</highlight></codeline>
<codeline lineno="131" refid="mrfi__radio_8c_1ab55b7b899673901d1799741f5dade4cb" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>PKTCTRL1_ADDR_FILTER_OFF<sp/><sp/><sp/><sp/>PKTCTRL1_BASE_VALUE</highlight></codeline>
<codeline lineno="132" refid="mrfi__radio_8c_1abaa8fa66214d72a45a1bac469f318e8d" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>PKTCTRL1_ADDR_FILTER_ON<sp/><sp/><sp/><sp/><sp/>(PKTCTRL1_BASE_VALUE<sp/>|<sp/>(BV(0)|BV(1)))</highlight></codeline>
<codeline lineno="133"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>MRFI_ASSERTS_ARE_ON</highlight></codeline>
<codeline lineno="135"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>RX_FILTER_ADDR_INITIAL_VALUE<sp/><sp/>0xFF</highlight></codeline>
<codeline lineno="136"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="137"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>SW<sp/>timer<sp/>is<sp/>calibrated<sp/>by<sp/>adjusting<sp/>the<sp/>call<sp/>to<sp/>the<sp/>microsecond<sp/>delay</highlight></codeline>
<codeline lineno="139"><highlight class="comment"><sp/><sp/><sp/>*<sp/>routine.<sp/>This<sp/>allows<sp/>maximum<sp/>calibration<sp/>control<sp/>with<sp/>repects<sp/>to<sp/>the<sp/>longer</highlight></codeline>
<codeline lineno="140"><highlight class="comment"><sp/><sp/><sp/>*<sp/>times<sp/>requested<sp/>by<sp/>applicationsd<sp/>and<sp/>decouples<sp/>internal<sp/>from<sp/>external<sp/>calls</highlight></codeline>
<codeline lineno="141"><highlight class="comment"><sp/><sp/><sp/>*<sp/>to<sp/>the<sp/>microsecond<sp/>routine<sp/>which<sp/>can<sp/>be<sp/>calibrated<sp/>independently.</highlight></codeline>
<codeline lineno="142"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(SW_TIMER)</highlight></codeline>
<codeline lineno="144"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>APP_USEC_VALUE<sp/><sp/><sp/><sp/>1000</highlight></codeline>
<codeline lineno="145"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="146" refid="mrfi__radio_8c_1af8ee2cd717ac3ef42d40ae1ee3761c9f" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>APP_USEC_VALUE<sp/><sp/><sp/><sp/>1000</highlight></codeline>
<codeline lineno="147"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="148"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="150"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Macros</highlight></codeline>
<codeline lineno="151"><highlight class="comment"><sp/>*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="152"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="mrfi__radio_8c_1af0c1d3283d7e3b03db6290f455ee7a78" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_ENABLE_SYNC_PIN_INT()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIE<sp/>|=<sp/>BV(9))</highlight></codeline>
<codeline lineno="154" refid="mrfi__radio_8c_1a5e587f63a538e9c505e3307942253948" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_DISABLE_SYNC_PIN_INT()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIE<sp/>&amp;=<sp/>~BV(9))</highlight></codeline>
<codeline lineno="155" refid="mrfi__radio_8c_1afaf143953299bc56ff681bf53f8acba5" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_CLEAR_SYNC_PIN_INT_FLAG()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIFG<sp/>&amp;=<sp/>~BV(9))</highlight></codeline>
<codeline lineno="156" refid="mrfi__radio_8c_1a86d240c1c92c55339b4120817959b762" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SYNC_PIN_INT_IS_ENABLED()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIE<sp/>&amp;<sp/>BV(9))</highlight></codeline>
<codeline lineno="157" refid="mrfi__radio_8c_1addca5ce5faac29bc9cc9c0bc3c1b1f94" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SYNC_PIN_IS_HIGH()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIN<sp/>&amp;<sp/>BV(9))</highlight></codeline>
<codeline lineno="158" refid="mrfi__radio_8c_1af89391534a376299a3feb5876a8873f7" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_SYNC_PIN_INT_FLAG_IS_SET()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIFG<sp/>&amp;<sp/>BV(9))</highlight></codeline>
<codeline lineno="159"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161" refid="mrfi__radio_8c_1a56e2848aa58fc9dc77670931a552a8f7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_CLEAR_PAPD_PIN_INT_FLAG()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIFG<sp/>&amp;=<sp/>~BV(0))</highlight></codeline>
<codeline lineno="162" refid="mrfi__radio_8c_1aa1c1aec4671423a25ae9cba8383e969f" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_PAPD_PIN_IS_HIGH()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIN<sp/>&amp;<sp/>BV(0))</highlight></codeline>
<codeline lineno="163" refid="mrfi__radio_8c_1adef92926d2447fe134406a81dfb7bb06" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_PAPD_INT_FLAG_IS_SET()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(RF1AIFG<sp/>&amp;<sp/>BV(0))</highlight></codeline>
<codeline lineno="164"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>RSSI<sp/>valid<sp/>signal<sp/>is<sp/>available<sp/>on<sp/>the<sp/>GDO_1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167" refid="mrfi__radio_8c_1a99bfbdbcc244f20e208f8ff506ed7f72" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RSSI_VALID_WAIT()<sp/><sp/>while(!(RF1AIN<sp/>&amp;<sp/>BV(1)));</highlight></codeline>
<codeline lineno="168"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Abstract<sp/>radio<sp/>interface<sp/>calls.<sp/>Could<sp/>use<sp/>these<sp/>later<sp/>to</highlight></codeline>
<codeline lineno="171"><highlight class="comment"><sp/>*<sp/>merge<sp/>code<sp/>from<sp/>similar<sp/>radio<sp/>but<sp/>different<sp/>interface.</highlight></codeline>
<codeline lineno="172"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173" refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_STROBE(cmd)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mrfiRadioInterfaceCmdStrobe(cmd)</highlight></codeline>
<codeline lineno="174" refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_REG_READ(reg)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mrfiRadioInterfaceReadReg(reg)</highlight></codeline>
<codeline lineno="175" refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_REG_WRITE(reg,<sp/>value)<sp/><sp/><sp/><sp/><sp/><sp/>mrfiRadioInterfaceWriteReg(reg,<sp/>value)</highlight></codeline>
<codeline lineno="176" refid="mrfi__radio_8c_1a26a5fc3507fd49d2e84d6eb295092214" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_WRITE_TX_FIFO(pData,<sp/>len)<sp/><sp/>mrfiRadioInterfaceWriteTxFifo(pData,<sp/>len)</highlight></codeline>
<codeline lineno="177" refid="mrfi__radio_8c_1a724b8e50996532ea9d61c34a061911bd" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_READ_RX_FIFO(pData,<sp/>len)<sp/><sp/><sp/>mrfiRadioInterfaceReadRxFifo(pData,<sp/>len)</highlight></codeline>
<codeline lineno="178"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_STROBE_IDLE_AND_WAIT()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="181"><highlight class="preprocessor">{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="182"><highlight class="preprocessor"><sp/><sp/>MRFI_STROBE(<sp/>SIDLE<sp/>);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="183"><highlight class="preprocessor"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wait<sp/>for<sp/>XOSC<sp/>to<sp/>be<sp/>stable<sp/>and<sp/>radio<sp/>in<sp/>IDLE<sp/>state<sp/>*/</highlight><highlight class="normal"><sp/>\</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/>while<sp/>(MRFI_STROBE(<sp/>SNOP<sp/>)<sp/>&amp;<sp/>0xF0)<sp/>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="185"><highlight class="normal">}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="189"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Local<sp/>Constants</highlight></codeline>
<codeline lineno="190"><highlight class="comment"><sp/>*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="191"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192" refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" kindref="member">mrfiRadioCfg</ref>[][2]<sp/>=</highlight></codeline>
<codeline lineno="193"><highlight class="normal">{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>internal<sp/>radio<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1aa05cfcf3fc75713dc691d1ead9e05736" kindref="member">IOCFG0</ref>,<sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1ac5cd728a2ad21cd9d9f71290a3350ae7" kindref="member">MRFI_SETTING_IOCFG0</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>},<sp/></highlight><highlight class="comment">/*<sp/>Configure<sp/>GDO_0<sp/>to<sp/>output<sp/>PA_PD<sp/>signal<sp/>(low<sp/>during<sp/>TX,<sp/>high<sp/>otherwise).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a53a1d054e4f61a08fce122ac0fbd520e" kindref="member">IOCFG1</ref>,<sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a713243be30f66a3d88e5331c0e14dbf0" kindref="member">MRFI_SETTING_IOCFG1</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>},<sp/></highlight><highlight class="comment">/*<sp/>Configure<sp/>GDO_1<sp/>to<sp/>output<sp/>RSSI_VALID<sp/>signal<sp/>(high<sp/>when<sp/>RSSI<sp/>is<sp/>valid,<sp/>low<sp/>otherwise).<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1af9d17a0852a5dc803395aa5a5e9998f0" kindref="member">MCSM1</ref>,<sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a5ebc21b93631d33f53520d630df00f40" kindref="member">MRFI_SETTING_MCSM1</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>},<sp/></highlight><highlight class="comment">/*<sp/>CCA<sp/>mode,<sp/>RX_OFF_MODE<sp/>and<sp/>TX_OFF_MODE<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a8b544cfc24a995246f2a973e327b48e1" kindref="member">MCSM0</ref>,<sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a3aecf8dc39c7cebe38be959e300920f9" kindref="member">MRFI_SETTING_MCSM0</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>},<sp/></highlight><highlight class="comment">/*<sp/>AUTO_CAL<sp/>and<sp/>XOSC<sp/>state<sp/>in<sp/>sleep<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1aeb4aac5f7c9599c10c864d0353cf6bce" kindref="member">PKTLEN</ref>,<sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1ae904776eb9f8e990adba24be3f11c82a" kindref="member">MRFI_SETTING_PKTLEN</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a47cb7d5d48dd0e71781409815d4fbbfa" kindref="member">PKTCTRL0</ref>,<sp/><sp/><ref refid="mrfi__radio_8c_1a997c5fa58e20ceb3d72ef1642aee0aa6" kindref="member">MRFI_SETTING_PKTCTRL0</ref><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a33642600de6c703bb5122234d4a8dec6" kindref="member">FIFOTHR</ref>,<sp/><sp/><sp/><ref refid="mrfi__radio_8c_1af6efeb83b7aa35aeeb6078fd89bbaadc" kindref="member">MRFI_SETTING_FIFOTHR</ref><sp/><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>imported<sp/>SmartRF<sp/>radio<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a8ff86e3979c5f096719c1aaacedd2a82" kindref="member">FSCTRL1</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1af6aff2f18347fb5dcdb1e2ed515fb89b" kindref="member">SMARTRF_SETTING_FSCTRL1</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1af50bd30a5ae1be32bf83c054552cbc8a" kindref="member">FSCTRL0</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a56502437dd954b0a36b4199d359b2399" kindref="member">SMARTRF_SETTING_FSCTRL0</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a1c7beac2b32c50b9c86877e146c442c3" kindref="member">FREQ2</ref>,<sp/><sp/><sp/><sp/><sp/>SMARTRF_SETTING_FREQ2<sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a80cabcfa28f947501898b1cdc2ffa5df" kindref="member">FREQ1</ref>,<sp/><sp/><sp/><sp/><sp/>SMARTRF_SETTING_FREQ1<sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1adf6c435c455a2f169dd8b0361cdcbb1c" kindref="member">FREQ0</ref>,<sp/><sp/><sp/><sp/><sp/>SMARTRF_SETTING_FREQ0<sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a38cf085a5cfeb29e4b1b90ae764047b2" kindref="member">MDMCFG4</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a9581352b674ea0391389aff460b97a68" kindref="member">SMARTRF_SETTING_MDMCFG4</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a589e4d4ef33f73e8b2db027147ba7be4" kindref="member">MDMCFG3</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1ab4f6adddc211274fe8855ac3233b26d3" kindref="member">SMARTRF_SETTING_MDMCFG3</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1ac5750cb986d051c6489f85a9051f1038" kindref="member">MDMCFG2</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a77cbfff7c029bdaede0e19d5324277fb" kindref="member">SMARTRF_SETTING_MDMCFG2</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a3caad8c7db9e2a843da62486ba20a5bc" kindref="member">MDMCFG1</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a5a2a9653343f08f76da50de72287734c" kindref="member">SMARTRF_SETTING_MDMCFG1</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a6ad36a2fd474d8b4c094b6a68ebe36a2" kindref="member">MDMCFG0</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a6cb385e2dfe8a854b11c943a1e3bf67c" kindref="member">SMARTRF_SETTING_MDMCFG0</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1afda7e6f9fb7386c73859497a6bfcf12c" kindref="member">DEVIATN</ref>,<sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1aa771946f0a0f77d0c65640ff0f34d706" kindref="member">SMARTRF_SETTING_DEVIATN</ref><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1ae24810e04beb0d2178a92e0673499496" kindref="member">FOCCFG</ref>,<sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1ad6b88554a3b3e47f0d120679c35678a3" kindref="member">SMARTRF_SETTING_FOCCFG</ref><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a9ad1a221b397cdae7cebcf1c248b2b30" kindref="member">BSCFG</ref>,<sp/><sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a1f01afe13eb6bdc3fe4bd41e54426a3b" kindref="member">SMARTRF_SETTING_BSCFG</ref><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a617370d4b4b2a1a1368739ee172ecf19" kindref="member">AGCCTRL2</ref>,<sp/><sp/><ref refid="smartrf__CC1101_8h_1a2e03ce70b621789c2046226c04e79972" kindref="member">SMARTRF_SETTING_AGCCTRL2</ref><sp/><sp/>},</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a2620a8b1c9a344fb7989502946689848" kindref="member">AGCCTRL1</ref>,<sp/><sp/><ref refid="smartrf__CC1101_8h_1ae24bf1aa418b50f0dfd591a7ac8af300" kindref="member">SMARTRF_SETTING_AGCCTRL1</ref><sp/><sp/>},</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a2b146a11145e2370da8db5044aba0afc" kindref="member">AGCCTRL0</ref>,<sp/><sp/><ref refid="smartrf__CC1101_8h_1a5f634395561d72f7b9f661908a73551e" kindref="member">SMARTRF_SETTING_AGCCTRL0</ref><sp/><sp/>},</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a07c63bb610a23f75a0b3ebfef8ae65e7" kindref="member">FREND1</ref>,<sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1aab9e177c4fdfe5f1445fc1b68c70cf0d" kindref="member">SMARTRF_SETTING_FREND1</ref><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a779f4559a0136208a2c990ee0ba5124f" kindref="member">FREND0</ref>,<sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1ac60cc3faa6b793479da189cadeee1c82" kindref="member">SMARTRF_SETTING_FREND0</ref><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1ac86903ecd6b7d9921060ec81cb3a8ab3" kindref="member">FSCAL3</ref>,<sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1adcdf9471e8d4f3eb215dbf8510b7453c" kindref="member">SMARTRF_SETTING_FSCAL3</ref><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a85adcb436e62701a8a35af467e70e16b" kindref="member">FSCAL2</ref>,<sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1ae4e17de9c902d3efc8ea7a656cb38d4c" kindref="member">SMARTRF_SETTING_FSCAL2</ref><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a88d4df9c7bb9e0e8f5bc0ab2266de1f3" kindref="member">FSCAL1</ref>,<sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a6c6ad8827e5ad5a20743b45c91e259a0" kindref="member">SMARTRF_SETTING_FSCAL1</ref><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a335ebafae859135220b54e93e8deeec5" kindref="member">FSCAL0</ref>,<sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a363d829e82093199037c5d6539cb42ef" kindref="member">SMARTRF_SETTING_FSCAL0</ref><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1a1b5997c11166c594b80d44bfde1cfa9c" kindref="member">TEST2</ref>,<sp/><sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1a2caecef0caa6cfd9b035b34175bfbaca" kindref="member">SMARTRF_SETTING_TEST2</ref><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1aef8471770769d5643c8d0e9d49de0678" kindref="member">TEST1</ref>,<sp/><sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1aa686bb670151c5ba1d233b8da629f57d" kindref="member">SMARTRF_SETTING_TEST1</ref><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/>{<sp/><sp/><ref refid="mrfi__radio__interface_8h_1ae898d2284301fc88393371e470f8db52" kindref="member">TEST0</ref>,<sp/><sp/><sp/><sp/><sp/><ref refid="smartrf__CC1101_8h_1aa110468679f34e16401e72c51713cec7" kindref="member">SMARTRF_SETTING_TEST0</ref><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="230"><highlight class="normal">};</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="234"><highlight class="comment"><sp/>*<sp/><sp/>Logical<sp/>channel<sp/>table<sp/>-<sp/>this<sp/>table<sp/>translates<sp/>logical<sp/>channel<sp/>into</highlight></codeline>
<codeline lineno="235"><highlight class="comment"><sp/>*<sp/><sp/>actual<sp/>radio<sp/>channel<sp/>number.<sp/><sp/>Channel<sp/>0,<sp/>the<sp/>default<sp/>channel,<sp/>is</highlight></codeline>
<codeline lineno="236"><highlight class="comment"><sp/>*<sp/><sp/>determined<sp/>by<sp/>the<sp/>channel<sp/>exported<sp/>from<sp/>SmartRF<sp/>Studio.<sp/><sp/>The<sp/>other</highlight></codeline>
<codeline lineno="237"><highlight class="comment"><sp/>*<sp/><sp/>table<sp/>entries<sp/>are<sp/>derived<sp/>from<sp/>that<sp/>default.<sp/><sp/>Each<sp/>derived<sp/>channel<sp/>is</highlight></codeline>
<codeline lineno="238"><highlight class="comment"><sp/>*<sp/><sp/>masked<sp/>with<sp/>0xFF<sp/>to<sp/>prevent<sp/>generation<sp/>of<sp/>an<sp/>illegal<sp/>channel<sp/>number.</highlight></codeline>
<codeline lineno="239"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="240"><highlight class="comment"><sp/>*<sp/><sp/>This<sp/>table<sp/>is<sp/>easily<sp/>customized.<sp/><sp/>Just<sp/>replace<sp/>or<sp/>add<sp/>entries<sp/>as<sp/>needed.</highlight></codeline>
<codeline lineno="241"><highlight class="comment"><sp/>*<sp/><sp/>If<sp/>the<sp/>number<sp/>of<sp/>entries<sp/>changes,<sp/>the<sp/>corresponding<sp/>#define<sp/>must<sp/>also</highlight></codeline>
<codeline lineno="242"><highlight class="comment"><sp/>*<sp/><sp/>be<sp/>adjusted.<sp/><sp/>It<sp/>is<sp/>located<sp/>in<sp/>mrfi_defs.h<sp/>and<sp/>is<sp/>called<sp/>__mrfi_NUM_LOGICAL_CHANS__.</highlight></codeline>
<codeline lineno="243"><highlight class="comment"><sp/>*<sp/><sp/>The<sp/>static<sp/>assert<sp/>below<sp/>ensures<sp/>that<sp/>there<sp/>is<sp/>no<sp/>mismatch.</highlight></codeline>
<codeline lineno="244"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight><highlight class="comment">//<sp/>[BM]<sp/>Changed<sp/>channel<sp/>assignment<sp/>to<sp/>comply<sp/>with<sp/>local<sp/>regulations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ISM_EU<sp/></highlight></codeline>
<codeline lineno="247"><highlight class="preprocessor"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>mrfiLogicalChanTable[]<sp/>=</highlight></codeline>
<codeline lineno="248"><highlight class="normal">{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/>0,</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/>50,</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/>80,</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/>110</highlight></codeline>
<codeline lineno="253"><highlight class="normal">};</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="255"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#ifdef<sp/>ISM_US</highlight></codeline>
<codeline lineno="256"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>mrfiLogicalChanTable[]<sp/>=</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>20,</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>50,</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>80,</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>110</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#else</highlight></codeline>
<codeline lineno="264"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#ifdef<sp/>ISM_LF</highlight></codeline>
<codeline lineno="265"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>mrfiLogicalChanTable[]<sp/>=</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>50,</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>80,</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>110</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#else</highlight></codeline>
<codeline lineno="273"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#error<sp/>&quot;Wrong<sp/>ISM<sp/>band<sp/>specified<sp/>(valid<sp/>are<sp/>ISM_LF,<sp/>ISM_EU<sp/>and<sp/>ISM_US)&quot;</highlight></codeline>
<codeline lineno="274"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#endif</highlight></codeline>
<codeline lineno="275"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#endif</highlight></codeline>
<codeline lineno="276"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="277"><highlight class="preprocessor"></highlight><highlight class="comment">//static<sp/>const<sp/>uint8_t<sp/>mrfiLogicalChanTable[]<sp/>=</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>SMARTRF_SETTING_CHANNR,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>50,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>80,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>110</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight><highlight class="comment">//};</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>verify<sp/>number<sp/>of<sp/>table<sp/>entries<sp/>matches<sp/>the<sp/>corresponding<sp/>#define<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><ref refid="bsp_8h_1aae3bdc117283b7ac5f61db061a66f7f0" kindref="member">BSP_STATIC_ASSERT</ref>(__mrfi_NUM_LOGICAL_CHANS__<sp/>==<sp/>((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiLogicalChanTable)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiLogicalChanTable[0]))<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiLogicalChanTable[0])));</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="288"><highlight class="comment"><sp/>*<sp/><sp/>RF<sp/>Power<sp/>setting<sp/>table<sp/>-<sp/>this<sp/>table<sp/>translates<sp/>logical<sp/>power<sp/>value</highlight></codeline>
<codeline lineno="289"><highlight class="comment"><sp/>*<sp/><sp/>to<sp/>radio<sp/>register<sp/>setting.<sp/><sp/>The<sp/>logical<sp/>power<sp/>value<sp/>is<sp/>used<sp/>directly</highlight></codeline>
<codeline lineno="290"><highlight class="comment"><sp/>*<sp/><sp/>as<sp/>an<sp/>index<sp/>into<sp/>the<sp/>power<sp/>setting<sp/>table.<sp/>The<sp/>values<sp/>in<sp/>the<sp/>table<sp/>are</highlight></codeline>
<codeline lineno="291"><highlight class="comment"><sp/>*<sp/><sp/>from<sp/>low<sp/>to<sp/>high.<sp/>The<sp/>default<sp/>settings<sp/>set<sp/>3<sp/>values:<sp/>-20<sp/>dBm,<sp/>-10<sp/>dBm,</highlight></codeline>
<codeline lineno="292"><highlight class="comment"><sp/>*<sp/><sp/>and<sp/>0<sp/>dBm.<sp/>The<sp/>default<sp/>at<sp/>startup<sp/>is<sp/>the<sp/>highest<sp/>value.<sp/>Note<sp/>that<sp/>these</highlight></codeline>
<codeline lineno="293"><highlight class="comment"><sp/>*<sp/><sp/>are<sp/>approximate<sp/>depending<sp/>on<sp/>the<sp/>radio.<sp/>Information<sp/>is<sp/>taken<sp/>from<sp/>the</highlight></codeline>
<codeline lineno="294"><highlight class="comment"><sp/>*<sp/><sp/>data<sp/>sheet.</highlight></codeline>
<codeline lineno="295"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="296"><highlight class="comment"><sp/>*<sp/><sp/>This<sp/>table<sp/>is<sp/>easily<sp/>customized.<sp/><sp/>Just<sp/>replace<sp/>or<sp/>add<sp/>entries<sp/>as<sp/>needed.</highlight></codeline>
<codeline lineno="297"><highlight class="comment"><sp/>*<sp/><sp/>If<sp/>the<sp/>number<sp/>of<sp/>entries<sp/>changes,<sp/>the<sp/>corresponding<sp/>#define<sp/>must<sp/>also</highlight></codeline>
<codeline lineno="298"><highlight class="comment"><sp/>*<sp/><sp/>be<sp/>adjusted.<sp/><sp/>It<sp/>is<sp/>located<sp/>in<sp/>mrfi_defs.h<sp/>and<sp/>is<sp/>called<sp/>__mrfi_NUM_POWER_SETTINGS__.</highlight></codeline>
<codeline lineno="299"><highlight class="comment"><sp/>*<sp/><sp/>The<sp/>static<sp/>assert<sp/>below<sp/>ensures<sp/>that<sp/>there<sp/>is<sp/>no<sp/>mismatch.</highlight></codeline>
<codeline lineno="300"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="301"><highlight class="comment"><sp/>*<sp/>For<sp/>the<sp/>CC430<sp/>use<sp/>the<sp/>CC1100<sp/>values.</highlight></codeline>
<codeline lineno="302"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303" refid="mrfi__radio_8c_1a38b17c489ff64492e96bdd9815de8456" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1a38b17c489ff64492e96bdd9815de8456" kindref="member">mrfiRFPowerTable</ref>[]<sp/>=</highlight></codeline>
<codeline lineno="304"><highlight class="normal">{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight><highlight class="comment">//<sp/>[BM]<sp/>Changed<sp/>default<sp/>output<sp/>power<sp/>to<sp/>comply<sp/>with<sp/>dongle<sp/>settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/>0x0F,</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/>0x27,</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight><highlight class="comment">//<sp/>[BM]<sp/>Increase<sp/>output<sp/>power<sp/>from<sp/>-0.3dBm<sp/>to<sp/>+1.4dBm<sp/>(433MHz)<sp/>/<sp/>+1.1dBm<sp/>(868MHz)<sp/>/<sp/>+1.3dBm<sp/>(915MHz)<sp/>to<sp/>compensate<sp/>antenna<sp/>loss<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ISM_EU<sp/></highlight></codeline>
<codeline lineno="310"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/>0x8C</highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="312"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/>#ifdef<sp/>ISM_US</highlight></codeline>
<codeline lineno="313"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>0x8B</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/>#else</highlight></codeline>
<codeline lineno="315"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#ifdef<sp/>ISM_LF</highlight></codeline>
<codeline lineno="316"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x8D</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#else</highlight></codeline>
<codeline lineno="318"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#error<sp/>&quot;Wrong<sp/>ISM<sp/>band<sp/>specified<sp/>(valid<sp/>are<sp/>ISM_LF,<sp/>ISM_EU<sp/>and<sp/>ISM_US)&quot;</highlight></codeline>
<codeline lineno="319"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endif</highlight></codeline>
<codeline lineno="320"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/>#endif</highlight></codeline>
<codeline lineno="321"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="322"><highlight class="preprocessor"></highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight><highlight class="comment">//static<sp/>const<sp/>uint8_t<sp/>mrfiRFPowerTable[]<sp/>=</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>0x0D,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>0x34,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>0x8E</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight><highlight class="comment">//};</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>verify<sp/>number<sp/>of<sp/>table<sp/>entries<sp/>matches<sp/>the<sp/>corresponding<sp/>#define<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><ref refid="bsp_8h_1aae3bdc117283b7ac5f61db061a66f7f0" kindref="member">BSP_STATIC_ASSERT</ref>(__mrfi_NUM_POWER_SETTINGS__<sp/>==<sp/>((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRFPowerTable)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRFPowerTable[0]))<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRFPowerTable[0])));</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="334"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Local<sp/>Prototypes</highlight></codeline>
<codeline lineno="335"><highlight class="comment"><sp/>*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="336"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1a083771eeaddacd61cdda9949a8d1e3c8" kindref="member">Mrfi_SyncPinRxIsr</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1a75fb468376bdd2a0153a132ae6e63a57" kindref="member">Mrfi_RxModeOn</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1a5ecaec7c14473496c253ade03429c4cf" kindref="member">Mrfi_RandomBackoffDelay</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" kindref="member">Mrfi_RxModeOff</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1aba4df305a531259d11ecc7f6e93eb188" kindref="member">Mrfi_DelayUsec</ref>(<ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>howLong);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1aad4d0f03bbaa5047b7cee916ac700969" kindref="member">Mrfi_DelayUsecSem</ref>(<ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>howLong);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aef44329758059c91c76d334e8fc09700" kindref="member">int8_t</ref><sp/><ref refid="mrfi__radio_8c_1afc905a5c17aaf33a0eb561035eda6caf" kindref="member">Mrfi_CalculateRssi</ref>(<ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>rawValue);</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1a5f770a9f4e5bdbcce429e1cb7311497f" kindref="member">Mrfi_RxAddrIsFiltered</ref>(<ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>*<sp/>pAddr);</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="348"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Local<sp/>Variables</highlight></codeline>
<codeline lineno="349"><highlight class="comment"><sp/>*<sp/>------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="350"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351" refid="mrfi__radio_8c_1a6f6fa3a6d7ec2b31dd3daf3b57a7496b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1a6f6fa3a6d7ec2b31dd3daf3b57a7496b" kindref="member">mrfiRadioState</ref><sp/><sp/>=<sp/><ref refid="mrfi_8h_1a5f3af80ee18499bbcefd751cb8828665" kindref="member">MRFI_RADIO_STATE_UNKNOWN</ref>;</highlight></codeline>
<codeline lineno="352" refid="mrfi__radio_8c_1a09c03a05a6e2f7bb6f396617c79948db" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structmrfiPacket__t" kindref="compound">mrfiPacket_t</ref><sp/><ref refid="mrfi__radio_8c_1a09c03a05a6e2f7bb6f396617c79948db" kindref="member">mrfiIncomingPacket</ref>;</highlight></codeline>
<codeline lineno="353" refid="mrfi__radio_8c_1ab9d7f1ca3de7599f48559d639b6e57dc" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1ab9d7f1ca3de7599f48559d639b6e57dc" kindref="member">mrfiRndSeed</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>reply<sp/>delay<sp/>support<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356" refid="mrfi__radio_8c_1a8706cd61170522359dfb1328df63da22" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><sp/><ref refid="mrfi__radio_8c_1a8706cd61170522359dfb1328df63da22" kindref="member">sKillSem</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="357" refid="mrfi__radio_8c_1a468dd8d389647a773c48603f77add77e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><sp/><ref refid="mrfi__radio_8c_1a468dd8d389647a773c48603f77add77e" kindref="member">sReplyDelayContext</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="358" refid="mrfi__radio_8c_1a75fb1d33bb56d58cb4bff1a1e670bc4b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/><ref refid="mrfi__radio_8c_1a75fb1d33bb56d58cb4bff1a1e670bc4b" kindref="member">sReplyDelayScalar</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="359" refid="mrfi__radio_8c_1ac5ce5b4dc46a2f656f3911e423ea11b8" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/><ref refid="mrfi__radio_8c_1ac5ce5b4dc46a2f656f3911e423ea11b8" kindref="member">sBackoffHelper</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361" refid="mrfi__radio_8c_1a883da5db4c1f526dcfeb4b718e5d090e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1a883da5db4c1f526dcfeb4b718e5d090e" kindref="member">mrfiRxFilterEnabled</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="362" refid="mrfi__radio_8c_1add2747b769377fe1c9a1bf5d43f91cef" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1add2747b769377fe1c9a1bf5d43f91cef" kindref="member">mrfiRxFilterAddr</ref>[<ref refid="mrfi_8h_1a5491e55db4c46a461c9e86faa9e0a9b1" kindref="member">MRFI_ADDR_SIZE</ref>]<sp/>=<sp/>{<sp/>RX_FILTER_ADDR_INITIAL_VALUE<sp/>};</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>These<sp/>counters<sp/>are<sp/>only<sp/>for<sp/>diagnostic<sp/>purpose<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365" refid="mrfi__radio_8c_1a79491f8113deb05c8388d87149fd7e29" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref><sp/><ref refid="mrfi__radio_8c_1a79491f8113deb05c8388d87149fd7e29" kindref="member">crcFail</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="366" refid="mrfi__radio_8c_1a62c335c108c5a66c5b989a18eeda96e2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref><sp/><ref refid="mrfi__radio_8c_1a62c335c108c5a66c5b989a18eeda96e2" kindref="member">crcPass</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="367" refid="mrfi__radio_8c_1a1ab782943ee97431567139bc6ed1b4c0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref><sp/><ref refid="mrfi__radio_8c_1a1ab782943ee97431567139bc6ed1b4c0" kindref="member">noFrame</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight><highlight class="comment">//<sp/>[BM]<sp/>Radio<sp/>frequency<sp/>offset<sp/>read<sp/>from<sp/>calibration<sp/>memory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Compensates<sp/>crystal<sp/>deviation<sp/>from<sp/>26MHz<sp/>nominal<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="bluerobin_8c_1acbfe912edd9d584f8cc71ac318d8cbdc" kindref="member">rf_frequoffset</ref>;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="374"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_Init</highlight></codeline>
<codeline lineno="375"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="376"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initialize<sp/>MRFI.</highlight></codeline>
<codeline lineno="377"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="378"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="379"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="380"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="381"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="382"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383" refid="mrfi__radio_8c_1a904283541714111237662f0720c7643d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a904283541714111237662f0720c7643d" kindref="member">MRFI_Init</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="384"><highlight class="normal">{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="386"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Radio<sp/>power-up<sp/>reset</highlight></codeline>
<codeline lineno="387"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>----------------------</highlight></codeline>
<codeline lineno="388"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/>memset(&amp;mrfiIncomingPacket,<sp/>0x0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiIncomingPacket));</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>radio<sp/>interface<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio__interface_8c_1a09245ae00dbf4322281fef12cc52a89b" kindref="member">mrfiRadioInterfaceInit</ref>();</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Strobe<sp/>Reset:<sp/>Resets<sp/>the<sp/>radio<sp/>and<sp/>puts<sp/>it<sp/>in<sp/>SLEEP<sp/>state.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a33f928e7de646c2942c2ff3d8b85f0f7" kindref="member">SRES</ref><sp/>);</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>verify<sp/>the<sp/>correct<sp/>radio<sp/>is<sp/>installed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/><ref refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" kindref="member">MRFI_RADIO_REG_READ</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1abf47da671d641e6da1802fd95e52e23b" kindref="member">PARTNUM</ref><sp/>)<sp/>==<sp/><ref refid="mrfi__radio_8c_1ac90b0564721af766d5806a40a5097e71" kindref="member">MRFI_RADIO_PARTNUM</ref><sp/>);<sp/><sp/></highlight><highlight class="comment">/*<sp/>incorrect<sp/>radio<sp/>specified<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/><ref refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" kindref="member">MRFI_RADIO_REG_READ</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a1c6d5de492ac61ad29aec7aa9a436bbf" kindref="member">VERSION</ref><sp/>)<sp/>==<sp/><ref refid="mrfi__radio_8c_1a91061665657c64ad3bcb7d07595f0502" kindref="member">MRFI_RADIO_VERSION</ref><sp/>);<sp/><sp/></highlight><highlight class="comment">/*<sp/>incorrect<sp/>radio<sp/>specified<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Put<sp/>radio<sp/>in<sp/>Idle<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" kindref="member">MRFI_STROBE_IDLE_AND_WAIT</ref>();</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="406"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Configure<sp/>radio</highlight></codeline>
<codeline lineno="407"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>-----------------</highlight></codeline>
<codeline lineno="408"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Configure<sp/>Radio<sp/>interrupts:</highlight></codeline>
<codeline lineno="411"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="412"><highlight class="comment"><sp/><sp/><sp/>*<sp/>RF1AIN_0<sp/>=&gt;<sp/>Programmed<sp/>to<sp/>PA_PD<sp/>signal.</highlight></codeline>
<codeline lineno="413"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Configure<sp/>it<sp/>to<sp/>interrupt<sp/>on<sp/>falling<sp/>edge.</highlight></codeline>
<codeline lineno="414"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="415"><highlight class="comment"><sp/><sp/><sp/>*<sp/>RF1AIN_1<sp/>=&gt;<sp/>Programmed<sp/>to<sp/>RSSI<sp/>Valid<sp/>signal.</highlight></codeline>
<codeline lineno="416"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>No<sp/>need<sp/>to<sp/>configure<sp/>for<sp/>interrupt.<sp/>This<sp/>value<sp/>will<sp/>be<sp/>read</highlight></codeline>
<codeline lineno="417"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>through<sp/>polling.</highlight></codeline>
<codeline lineno="418"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="419"><highlight class="comment"><sp/><sp/><sp/>*<sp/>RF1AIN_9<sp/>=&gt;<sp/>Rising<sp/>edge<sp/>indicates<sp/>SYNC<sp/>sent/received<sp/>and</highlight></codeline>
<codeline lineno="420"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Falling<sp/>edge<sp/>indicates<sp/>end<sp/>of<sp/>packet.</highlight></codeline>
<codeline lineno="421"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Configure<sp/>it<sp/>to<sp/>interrupt<sp/>on<sp/>falling<sp/>edge.</highlight></codeline>
<codeline lineno="422"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Select<sp/>Interrupt<sp/>edge<sp/>for<sp/>PA_PD<sp/>and<sp/>SYNC<sp/>signal:</highlight></codeline>
<codeline lineno="425"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Interrupt<sp/>Edge<sp/>select<sp/>register:<sp/>1<sp/>==<sp/>Interrupt<sp/>on<sp/>High<sp/>to<sp/>Low<sp/>transition.</highlight></codeline>
<codeline lineno="426"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/>RF1AIES<sp/>=<sp/>BV(0)<sp/>|<sp/>BV(9);</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>the<sp/>power<sp/>output<sp/>to<sp/>the<sp/>PA_TABLE<sp/>and<sp/>verify<sp/>the<sp/>write<sp/>operation.<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><sp/><sp/><sp/><sp/><sp/>readbackPATableValue<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1ad45ed2a3e324170701c79dca25f0bbc9" kindref="member">bspIState_t</ref><sp/><sp/>s;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1a4d19917ceac9ef0f757b861e802d22ad" kindref="member">BSP_ENTER_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>!(RF1AIFCTL1<sp/>&amp;<sp/>RFINSTRIFG));</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/>RF1AINSTRW<sp/>=<sp/>0x7E51;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>PA<sp/>Table<sp/>write<sp/>(burst)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>!(RF1AIFCTL1<sp/>&amp;<sp/>RFINSTRIFG));</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>RF1AINSTRB<sp/>=<sp/>RF_SNOP;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>reset<sp/>pointer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>!(RF1AIFCTL1<sp/>&amp;<sp/>RFINSTRIFG));</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>RF1AINSTRB<sp/>=<sp/>0xFE;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>PA<sp/>Table<sp/>read<sp/>(burst)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>!(RF1AIFCTL1<sp/>&amp;<sp/>RFDINIFG));</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>RF1ADINB<sp/><sp/><sp/><sp/>=<sp/>0x00;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>dummy<sp/>write<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>!(RF1AIFCTL1<sp/>&amp;<sp/>RFDOUTIFG));</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>readbackPATableValue<sp/>=<sp/>RF1ADOUT0B;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(readbackPATableValue<sp/>==<sp/>0x51);</highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>!(RF1AIFCTL1<sp/>&amp;<sp/>RFINSTRIFG));</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>RF1AINSTRB<sp/>=<sp/>RF_SNOP;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1abd6fc0d94f04f101b14219891a771465" kindref="member">BSP_EXIT_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>initialize<sp/>radio<sp/>registers<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>i;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" kindref="member">mrfiRadioCfg</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRadioCfg[0]));<sp/>i++)</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" kindref="member">MRFI_RADIO_REG_WRITE</ref>(mrfiRadioCfg[i][0],<sp/>mrfiRadioCfg[i][1]);</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Confirm<sp/>that<sp/>the<sp/>values<sp/>were<sp/>written<sp/>correctly.</highlight></codeline>
<codeline lineno="470"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>i;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi__radio_8c_1a97661c4e995b6467bca1eda61067fb4f" kindref="member">mrfiRadioCfg</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRadioCfg[0]));<sp/>i++)</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>mrfiRadioCfg[i][1]<sp/>==<sp/><ref refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" kindref="member">MRFI_RADIO_REG_READ</ref>(mrfiRadioCfg[i][0])<sp/>);</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>[BM]<sp/>Apply<sp/>global<sp/>frequency<sp/>offset<sp/>to<sp/>FSCTRL0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" kindref="member">MRFI_STROBE_IDLE_AND_WAIT</ref>();</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" kindref="member">MRFI_RADIO_REG_WRITE</ref>(<ref refid="mrfi__radio__interface_8h_1af50bd30a5ae1be32bf83c054552cbc8a" kindref="member">FSCTRL0</ref>,<sp/>rf_frequoffset);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>default<sp/>channel<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><ref refid="mrfi_8h_1a7bcef0eebe11bd7fd93dc1c862494a5d" kindref="member">MRFI_SetLogicalChannel</ref>(<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>default<sp/>power<sp/>level<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><ref refid="mrfi_8h_1a0477d2a72f6f9c8999af6bc0feb17a9f" kindref="member">MRFI_SetRFPwr</ref>(<ref refid="mrfi_8h_1a012441b369f8987ae97a7e2a0c827f76" kindref="member">MRFI_NUM_POWER_SETTINGS</ref>-<sp/>1);</highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Generate<sp/>Random<sp/>seed:</highlight></codeline>
<codeline lineno="491"><highlight class="comment"><sp/><sp/><sp/>*<sp/>We<sp/>will<sp/>use<sp/>the<sp/>RSSI<sp/>value<sp/>to<sp/>generate<sp/>our<sp/>random<sp/>seed.</highlight></codeline>
<codeline lineno="492"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Put<sp/>the<sp/>radio<sp/>in<sp/>RX<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1ab2c756686b69cc7d7f8b94a3bb7805d7" kindref="member">SRX</ref><sp/>);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>delay<sp/>for<sp/>the<sp/>rssi<sp/>to<sp/>be<sp/>valid<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a99bfbdbcc244f20e208f8ff506ed7f72" kindref="member">MRFI_RSSI_VALID_WAIT</ref>();</highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>i;</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=0;<sp/>i&lt;16;<sp/>i++)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>use<sp/>most<sp/>random<sp/>bit<sp/>of<sp/>rssi<sp/>to<sp/>populate<sp/>the<sp/>random<sp/>seed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mrfiRndSeed<sp/>=<sp/>(mrfiRndSeed<sp/>&lt;&lt;<sp/>1)<sp/>|<sp/>(<ref refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" kindref="member">MRFI_RADIO_REG_READ</ref>(<ref refid="mrfi__radio__interface_8h_1a91888bdc573835ec5a22972f6c7d69ba" kindref="member">RSSI</ref>)<sp/>&amp;<sp/>0x01);</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Force<sp/>the<sp/>seed<sp/>to<sp/>be<sp/>non-zero<sp/>by<sp/>setting<sp/>one<sp/>bit,<sp/>just<sp/>in<sp/>case...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/>mrfiRndSeed<sp/>|=<sp/>0x0080;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Turn<sp/>off<sp/>RF.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" kindref="member">Mrfi_RxModeOff</ref>();</highlight></codeline>
<codeline lineno="514"><highlight class="normal"></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Strobe<sp/>Power<sp/>Down<sp/>(SPWD):<sp/>puts<sp/>the<sp/>radio<sp/>in<sp/>SLEEP<sp/>state.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Chip<sp/>bug:<sp/>Radio<sp/>does<sp/>not<sp/>come<sp/>out<sp/>of<sp/>this<sp/>SLEEP<sp/>when<sp/>put<sp/>to<sp/>sleep</highlight></codeline>
<codeline lineno="517"><highlight class="comment"><sp/><sp/><sp/>*<sp/>using<sp/>the<sp/>SPWD<sp/>cmd.<sp/>However,<sp/>it<sp/>does<sp/>wakes<sp/>up<sp/>if<sp/>SXOFF<sp/>was<sp/>used<sp/>to</highlight></codeline>
<codeline lineno="518"><highlight class="comment"><sp/><sp/><sp/>*<sp/>put<sp/>it<sp/>to<sp/>sleep.</highlight></codeline>
<codeline lineno="519"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a2ba866e663962a4971cfaa63ebbf101b" kindref="member">SXOFF</ref><sp/>);</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initial<sp/>radio<sp/>state<sp/>is<sp/>IDLE<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/>mrfiRadioState<sp/>=<sp/><ref refid="mrfi_8h_1aa8dcc7c7edd4f50ffe881425cb965482" kindref="member">MRFI_RADIO_STATE_OFF</ref>;</highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*****************************************************************************************</highlight></codeline>
<codeline lineno="526"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Compute<sp/>reply<sp/>delay<sp/>scalar</highlight></codeline>
<codeline lineno="527"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="528"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Formula<sp/>from<sp/>data<sp/>sheet<sp/>for<sp/>all<sp/>the<sp/>narrow<sp/>band<sp/>radios<sp/>is:</highlight></codeline>
<codeline lineno="529"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="530"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(256<sp/>+<sp/>DATAR_Mantissa)<sp/>*<sp/>2^(DATAR_Exponent)</highlight></codeline>
<codeline lineno="531"><highlight class="comment"><sp/><sp/><sp/>*<sp/>DATA_RATE<sp/>=<sp/><sp/><sp/><sp/>------------------------------------------<sp/>*<sp/>f(xosc)</highlight></codeline>
<codeline lineno="532"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2^28</highlight></codeline>
<codeline lineno="533"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="534"><highlight class="comment"><sp/><sp/><sp/>*<sp/>To<sp/>try<sp/>and<sp/>keep<sp/>some<sp/>accuracy<sp/>we<sp/>change<sp/>the<sp/>exponent<sp/>of<sp/>the<sp/>denominator</highlight></codeline>
<codeline lineno="535"><highlight class="comment"><sp/><sp/><sp/>*<sp/>to<sp/>(28<sp/>-<sp/>(exponent<sp/>from<sp/>the<sp/>configuration<sp/>register))<sp/>so<sp/>we<sp/>do<sp/>a<sp/>division</highlight></codeline>
<codeline lineno="536"><highlight class="comment"><sp/><sp/><sp/>*<sp/>by<sp/>a<sp/>smaller<sp/>number.<sp/>We<sp/>find<sp/>the<sp/>power<sp/>of<sp/>2<sp/>by<sp/>shifting.</highlight></codeline>
<codeline lineno="537"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="538"><highlight class="comment"><sp/><sp/><sp/>*<sp/>The<sp/>maximum<sp/>delay<sp/>needed<sp/>depends<sp/>on<sp/>the<sp/>MAX_APP_PAYLOAD<sp/>parameter.<sp/>Figure</highlight></codeline>
<codeline lineno="539"><highlight class="comment"><sp/><sp/><sp/>*<sp/>out<sp/>how<sp/>many<sp/>bits<sp/>that<sp/>will<sp/>be<sp/>when<sp/>overhead<sp/>is<sp/>included.<sp/>Bits/bits-per-second</highlight></codeline>
<codeline lineno="540"><highlight class="comment"><sp/><sp/><sp/>*<sp/>is<sp/>seconds<sp/>to<sp/>transmit<sp/>(or<sp/>receive)<sp/>the<sp/>maximum<sp/>frame.<sp/>We<sp/>multiply<sp/>this<sp/>number</highlight></codeline>
<codeline lineno="541"><highlight class="comment"><sp/><sp/><sp/>*<sp/>by<sp/>1000<sp/>to<sp/>find<sp/>the<sp/>time<sp/>in<sp/>milliseconds.<sp/>We<sp/>then<sp/>additionally<sp/>multiply<sp/>by</highlight></codeline>
<codeline lineno="542"><highlight class="comment"><sp/><sp/><sp/>*<sp/>10<sp/>so<sp/>we<sp/>can<sp/>add<sp/>5<sp/>and<sp/>divide<sp/>by<sp/>10<sp/>later,<sp/>thus<sp/>rounding<sp/>up<sp/>to<sp/>the<sp/>number<sp/>of</highlight></codeline>
<codeline lineno="543"><highlight class="comment"><sp/><sp/><sp/>*<sp/>milliseconds.<sp/>This<sp/>last<sp/>won&apos;t<sp/>matter<sp/>for<sp/>slow<sp/>transmissions<sp/>but<sp/>for<sp/>faster<sp/>ones</highlight></codeline>
<codeline lineno="544"><highlight class="comment"><sp/><sp/><sp/>*<sp/>we<sp/>want<sp/>to<sp/>err<sp/>on<sp/>the<sp/>side<sp/>of<sp/>being<sp/>conservative<sp/>and<sp/>making<sp/>sure<sp/>the<sp/>radio<sp/>is<sp/>on</highlight></codeline>
<codeline lineno="545"><highlight class="comment"><sp/><sp/><sp/>*<sp/>to<sp/>receive<sp/>the<sp/>reply.<sp/>The<sp/>semaphore<sp/>monitor<sp/>will<sp/>shut<sp/>it<sp/>down.<sp/>The<sp/>delay<sp/>adds<sp/>in</highlight></codeline>
<codeline lineno="546"><highlight class="comment"><sp/><sp/><sp/>*<sp/>a<sp/>fudge<sp/>factor<sp/>that<sp/>includes<sp/>processing<sp/>time<sp/>on<sp/>peer<sp/>plus<sp/>lags<sp/>in<sp/>Rx<sp/>and<sp/>processing</highlight></codeline>
<codeline lineno="547"><highlight class="comment"><sp/><sp/><sp/>*<sp/>time<sp/>on<sp/>receiver&apos;s<sp/>side.</highlight></codeline>
<codeline lineno="548"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="549"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Note<sp/>that<sp/>we<sp/>assume<sp/>a<sp/>26<sp/>MHz<sp/>clock<sp/>for<sp/>the<sp/>radio...</highlight></codeline>
<codeline lineno="550"><highlight class="comment"><sp/><sp/><sp/>*<sp/>***************************************************************************************</highlight></codeline>
<codeline lineno="551"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/><sp/><sp/>MRFI_RADIO_OSC_FREQ<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>26000000</highlight></codeline>
<codeline lineno="553"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/><sp/><sp/>PHY_PREAMBLE_SYNC_BYTES<sp/><sp/><sp/><sp/><sp/>8</highlight></codeline>
<codeline lineno="554"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref><sp/>dataRate,<sp/>bits;</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>exponent,<sp/>mantissa;</highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>mantissa<sp/>is<sp/>in<sp/>MDMCFG3<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/>mantissa<sp/>=<sp/>256<sp/>+<sp/><ref refid="smartrf__CC1101_8h_1ab4f6adddc211274fe8855ac3233b26d3" kindref="member">SMARTRF_SETTING_MDMCFG3</ref>;</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>exponent<sp/>is<sp/>lower<sp/>nibble<sp/>of<sp/>MDMCFG4.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/>exponent<sp/>=<sp/>28<sp/>-<sp/>(<ref refid="smartrf__CC1101_8h_1a9581352b674ea0391389aff460b97a68" kindref="member">SMARTRF_SETTING_MDMCFG4</ref><sp/>&amp;<sp/>0x0F);</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>we<sp/>can<sp/>now<sp/>get<sp/>data<sp/>rate<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/>dataRate<sp/>=<sp/>mantissa<sp/>*<sp/>(<ref refid="mrfi__radio_8c_1a51f2fb3d75034767bf2acd9b18700b06" kindref="member">MRFI_RADIO_OSC_FREQ</ref>&gt;&gt;exponent);</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/>bits<sp/>=<sp/>((<ref refid="bsp__msp430__defs_8h_1a06896e8c53f721507066c079052171f8" kindref="member">uint32_t</ref>)((<ref refid="mrfi__radio_8c_1a675cb21c2b8a1d19f8bc7340a841d3bd" kindref="member">PHY_PREAMBLE_SYNC_BYTES</ref><sp/>+<sp/><ref refid="mrfi_8h_1abe6c088541b7554888dce7feecb6882e" kindref="member">MRFI_MAX_FRAME_SIZE</ref>)*8))*10000;</highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>processing<sp/>on<sp/>the<sp/>peer<sp/>+<sp/>the<sp/>Tx/Rx<sp/>time<sp/>plus<sp/>more<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/>sReplyDelayScalar<sp/>=<sp/><ref refid="mrfi_8h_1a0badfab5f674171e4909b183f83a1fae" kindref="member">PLATFORM_FACTOR_CONSTANT</ref><sp/>+<sp/>(((bits/dataRate)+5)/10);</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>helper<sp/>value<sp/>is<sp/>used<sp/>to<sp/>scale<sp/>the<sp/>backoffs<sp/>during<sp/>CCA.<sp/>At<sp/>very</highlight></codeline>
<codeline lineno="574"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>low<sp/>data<sp/>rates<sp/>we<sp/>need<sp/>to<sp/>backoff<sp/>longer<sp/>to<sp/>prevent<sp/>continual<sp/>sampling</highlight></codeline>
<codeline lineno="575"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>of<sp/>valid<sp/>frames<sp/>which<sp/>take<sp/>longer<sp/>to<sp/>send<sp/>at<sp/>lower<sp/>rates.<sp/>Use<sp/>the<sp/>scalar</highlight></codeline>
<codeline lineno="576"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>we<sp/>just<sp/>calculated<sp/>divided<sp/>by<sp/>32.<sp/>With<sp/>the<sp/>backoff<sp/>algorithm<sp/>backing</highlight></codeline>
<codeline lineno="577"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>off<sp/>up<sp/>to<sp/>16<sp/>periods<sp/>this<sp/>will<sp/>result<sp/>in<sp/>waiting<sp/>up<sp/>to<sp/>about<sp/>1/2<sp/>the<sp/>total</highlight></codeline>
<codeline lineno="578"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>scalar<sp/>value.<sp/>For<sp/>high<sp/>data<sp/>rates<sp/>this<sp/>does<sp/>not<sp/>contribute<sp/>at<sp/>all.<sp/>Value</highlight></codeline>
<codeline lineno="579"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>is<sp/>in<sp/>microseconds.</highlight></codeline>
<codeline lineno="580"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>sBackoffHelper<sp/>=<sp/><ref refid="mrfi__radio_8c_1a28f210c6c01036d6ce3de2e323682112" kindref="member">MRFI_BACKOFF_PERIOD_USECS</ref><sp/>+<sp/>(sReplyDelayScalar&gt;&gt;5)*1000;</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clean<sp/>out<sp/>buffer<sp/>to<sp/>protect<sp/>against<sp/>spurious<sp/>frames<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/>memset(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>,<sp/>0x00,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>));</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/>memset(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>,<sp/>0x00,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>));</highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>enable<sp/>global<sp/>interrupts<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1ae70208611c7016c6c57318c198b0d841" kindref="member">BSP_ENABLE_INTERRUPTS</ref>();</highlight></codeline>
<codeline lineno="590"><highlight class="normal">}</highlight></codeline>
<codeline lineno="591"><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="594"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_Transmit</highlight></codeline>
<codeline lineno="595"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="596"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Transmit<sp/>a<sp/>packet<sp/>using<sp/>CCA<sp/>algorithm.</highlight></codeline>
<codeline lineno="597"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="598"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPacket<sp/>-<sp/>pointer<sp/>to<sp/>packet<sp/>to<sp/>transmit</highlight></codeline>
<codeline lineno="599"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="600"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>Return<sp/>code<sp/>indicates<sp/>success<sp/>or<sp/>failure<sp/>of<sp/>transmit:</highlight></codeline>
<codeline lineno="601"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_TX_RESULT_SUCCESS<sp/>-<sp/>transmit<sp/>succeeded</highlight></codeline>
<codeline lineno="602"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_TX_RESULT_FAILED<sp/><sp/>-<sp/>transmit<sp/>failed<sp/>because<sp/>CCA<sp/>failed</highlight></codeline>
<codeline lineno="603"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="604"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605" refid="mrfi__radio_8c_1a8a272a2f6067c4ebb3ddbdffb75d4f94" refkind="member"><highlight class="normal"><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi_8h_1a3d7c9c37ed7dd67e23904051ea73019f" kindref="member">MRFI_Transmit</ref>(<ref refid="structmrfiPacket__t" kindref="compound">mrfiPacket_t</ref><sp/>*<sp/>pPacket,<sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>txType)</highlight></codeline>
<codeline lineno="606"><highlight class="normal">{</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>ccaRetries;</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>txBufLen;</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>returnValue<sp/>=<sp/><ref refid="mrfi_8h_1a82597a1cfb8f1326e90d92295499de4f" kindref="member">MRFI_TX_RESULT_SUCCESS</ref>;</highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>radio<sp/>must<sp/>be<sp/>awake<sp/>to<sp/>transmit<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>mrfiRadioState<sp/>!=<sp/><ref refid="mrfi_8h_1aa8dcc7c7edd4f50ffe881425cb965482" kindref="member">MRFI_RADIO_STATE_OFF</ref><sp/>);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Turn<sp/>off<sp/>reciever.<sp/>We<sp/>can<sp/>ignore/drop<sp/>incoming<sp/>packets<sp/>during<sp/>transmit.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" kindref="member">Mrfi_RxModeOff</ref>();</highlight></codeline>
<codeline lineno="616"><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>compute<sp/>number<sp/>of<sp/>bytes<sp/>to<sp/>write<sp/>to<sp/>transmit<sp/>FIFO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/>txBufLen<sp/>=<sp/>pPacket-&gt;<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>[<ref refid="mrfi__radio_8c_1a0da8ef923d22d977d308369e46156f70" kindref="member">MRFI_LENGTH_FIELD_OFS</ref>]<sp/>+<sp/><ref refid="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" kindref="member">MRFI_LENGTH_FIELD_SIZE</ref>;</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="621"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Write<sp/>packet<sp/>to<sp/>transmit<sp/>FIFO</highlight></codeline>
<codeline lineno="622"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>--------------------------------</highlight></codeline>
<codeline lineno="623"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a26a5fc3507fd49d2e84d6eb295092214" kindref="member">MRFI_RADIO_WRITE_TX_FIFO</ref>(&amp;(pPacket-&gt;<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>[0]),<sp/>txBufLen);</highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="628"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Immediate<sp/>transmit</highlight></codeline>
<codeline lineno="629"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>---------------------</highlight></codeline>
<codeline lineno="630"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(txType<sp/>==<sp/><ref refid="mrfi_8h_1afb53f4de7ed76fb64a84429b9ca566d8" kindref="member">MRFI_TX_TYPE_FORCED</ref>)</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Issue<sp/>the<sp/>TX<sp/>strobe.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1aacd744a917e61146ec8b7175b4761683" kindref="member">STX</ref><sp/>);</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wait<sp/>for<sp/>transmit<sp/>to<sp/>complete<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(!<ref refid="mrfi__radio_8c_1af89391534a376299a3feb5876a8873f7" kindref="member">MRFI_SYNC_PIN_INT_FLAG_IS_SET</ref>());</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>the<sp/>interrupt<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1afaf143953299bc56ff681bf53f8acba5" kindref="member">MRFI_CLEAR_SYNC_PIN_INT_FLAG</ref>();</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="645"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>CCA<sp/>transmit</highlight></codeline>
<codeline lineno="646"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>---------------</highlight></codeline>
<codeline lineno="647"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>txType<sp/>==<sp/><ref refid="mrfi_8h_1ad208d476574ef1c4a4a65ab448a483f0" kindref="member">MRFI_TX_TYPE_CCA</ref><sp/>);</highlight></codeline>
<codeline lineno="650"><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>number<sp/>of<sp/>CCA<sp/>retries<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/>ccaRetries<sp/>=<sp/><ref refid="mrfi__defs_8h_1a266c1388c1c822c2dc6a6f3ad4c364e7" kindref="member">MRFI_CCA_RETRIES</ref>;</highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>===============================================================================</highlight></codeline>
<codeline lineno="656"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Main<sp/>Loop</highlight></codeline>
<codeline lineno="657"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>=============</highlight></codeline>
<codeline lineno="658"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Radio<sp/>must<sp/>be<sp/>in<sp/>RX<sp/>mode<sp/>for<sp/>CCA<sp/>to<sp/>happen.</highlight></codeline>
<codeline lineno="662"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Otherwise<sp/>it<sp/>will<sp/>transmit<sp/>without<sp/>CCA<sp/>happening.</highlight></codeline>
<codeline lineno="663"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Can<sp/>not<sp/>use<sp/>the<sp/>Mrfi_RxModeOn()<sp/>function<sp/>here<sp/>since<sp/>it<sp/>turns<sp/>on<sp/>the</highlight></codeline>
<codeline lineno="666"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Rx<sp/>interrupt,<sp/>which<sp/>we<sp/>don&apos;t<sp/>want<sp/>in<sp/>this<sp/>case.</highlight></codeline>
<codeline lineno="667"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1ab2c756686b69cc7d7f8b94a3bb7805d7" kindref="member">SRX</ref><sp/>);</highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>wait<sp/>for<sp/>the<sp/>rssi<sp/>to<sp/>be<sp/>valid.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a99bfbdbcc244f20e208f8ff506ed7f72" kindref="member">MRFI_RSSI_VALID_WAIT</ref>();</highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="674"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>Clear<sp/>the<sp/>PA_PD<sp/>pin<sp/>interrupt<sp/>flag.<sp/><sp/>This<sp/>flag,<sp/>not<sp/>the<sp/>interrupt<sp/>itself,</highlight></codeline>
<codeline lineno="675"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>is<sp/>used<sp/>to<sp/>capture<sp/>the<sp/>transition<sp/>that<sp/>indicates<sp/>a<sp/>transmit<sp/>was<sp/>started.</highlight></codeline>
<codeline lineno="676"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>The<sp/>pin<sp/>level<sp/>cannot<sp/>be<sp/>used<sp/>to<sp/>indicate<sp/>transmit<sp/>success<sp/>as<sp/>timing<sp/>may</highlight></codeline>
<codeline lineno="677"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>prevent<sp/>the<sp/>transition<sp/>from<sp/>being<sp/>detected.<sp/><sp/>The<sp/>interrupt<sp/>latch<sp/>captures</highlight></codeline>
<codeline lineno="678"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>the<sp/>event<sp/>regardless<sp/>of<sp/>timing.</highlight></codeline>
<codeline lineno="679"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a56e2848aa58fc9dc77670931a552a8f7" kindref="member">MRFI_CLEAR_PAPD_PIN_INT_FLAG</ref>();</highlight></codeline>
<codeline lineno="681"><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>send<sp/>strobe<sp/>to<sp/>initiate<sp/>transmit<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1aacd744a917e61146ec8b7175b4761683" kindref="member">STX</ref><sp/>);</highlight></codeline>
<codeline lineno="684"><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Delay<sp/>long<sp/>enough<sp/>for<sp/>the<sp/>PA_PD<sp/>signal<sp/>to<sp/>indicate<sp/>a</highlight></codeline>
<codeline lineno="686"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>successful<sp/>transmit.<sp/>This<sp/>is<sp/>the<sp/>250<sp/>XOSC<sp/>periods</highlight></codeline>
<codeline lineno="687"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>(9.6<sp/>us<sp/>for<sp/>a<sp/>26<sp/>MHz<sp/>crystal).</highlight></codeline>
<codeline lineno="688"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Found<sp/>out<sp/>that<sp/>we<sp/>need<sp/>a<sp/>delay<sp/>of<sp/>atleast<sp/>25<sp/>us<sp/>on<sp/>CC1100<sp/>to<sp/>see</highlight></codeline>
<codeline lineno="689"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>PA_PD<sp/>signal<sp/>change.<sp/>Hence<sp/>keeping<sp/>the<sp/>same<sp/>for<sp/>CC430</highlight></codeline>
<codeline lineno="690"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1aba4df305a531259d11ecc7f6e93eb188" kindref="member">Mrfi_DelayUsec</ref>(25);</highlight></codeline>
<codeline lineno="692"><highlight class="normal"></highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>PA_PD<sp/>signal<sp/>goes<sp/>from<sp/>HIGH<sp/>to<sp/>LOW<sp/>when<sp/>going<sp/>from<sp/>RX<sp/>to<sp/>TX<sp/>state.</highlight></codeline>
<codeline lineno="695"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>This<sp/>transition<sp/>is<sp/>trapped<sp/>as<sp/>a<sp/>falling<sp/>edge<sp/>interrupt<sp/>flag</highlight></codeline>
<codeline lineno="696"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>to<sp/>indicate<sp/>that<sp/>CCA<sp/>passed<sp/>and<sp/>the<sp/>transmit<sp/>has<sp/>started.</highlight></codeline>
<codeline lineno="697"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="mrfi__radio_8c_1adef92926d2447fe134406a81dfb7bb06" kindref="member">MRFI_PAPD_INT_FLAG_IS_SET</ref>())</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="701"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Clear<sp/>Channel<sp/>Assessment<sp/>passed.</highlight></codeline>
<codeline lineno="702"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>----------------------------------</highlight></codeline>
<codeline lineno="703"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>the<sp/>PA_PD<sp/>int<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a56e2848aa58fc9dc77670931a552a8f7" kindref="member">MRFI_CLEAR_PAPD_PIN_INT_FLAG</ref>();</highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>PA_PD<sp/>signal<sp/>stays<sp/>LOW<sp/>while<sp/>in<sp/>TX<sp/>state<sp/>and<sp/>goes<sp/>back<sp/>to<sp/>HIGH<sp/>when</highlight></codeline>
<codeline lineno="709"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>radio<sp/>transitions<sp/>to<sp/>RX<sp/>state.</highlight></codeline>
<codeline lineno="710"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>wait<sp/>for<sp/>transmit<sp/>to<sp/>complete<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!<ref refid="mrfi__radio_8c_1aa1c1aec4671423a25ae9cba8383e969f" kindref="member">MRFI_PAPD_PIN_IS_HIGH</ref>());</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>transmit<sp/>done,<sp/>break<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="720"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Clear<sp/>Channel<sp/>Assessment<sp/>failed.</highlight></codeline>
<codeline lineno="721"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>----------------------------------</highlight></codeline>
<codeline lineno="722"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Turn<sp/>off<sp/>radio<sp/>and<sp/>save<sp/>some<sp/>power<sp/>during<sp/>backoff<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>NOTE:<sp/>Can&apos;t<sp/>use<sp/>Mrfi_RxModeOff()<sp/>-<sp/>since<sp/>it<sp/>tries<sp/>to<sp/>update<sp/>the</highlight></codeline>
<codeline lineno="727"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>sync<sp/>signal<sp/>status<sp/>which<sp/>we<sp/>are<sp/>not<sp/>using<sp/>during<sp/>the<sp/>TX<sp/>operation.</highlight></codeline>
<codeline lineno="728"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" kindref="member">MRFI_STROBE_IDLE_AND_WAIT</ref>();</highlight></codeline>
<codeline lineno="730"><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>flush<sp/>the<sp/>receive<sp/>FIFO<sp/>of<sp/>any<sp/>residual<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a793903e47409c82e0b914da66c2d3885" kindref="member">SFRX</ref><sp/>);</highlight></codeline>
<codeline lineno="733"><highlight class="normal"></highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Retry<sp/>?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ccaRetries<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>delay<sp/>for<sp/>a<sp/>random<sp/>number<sp/>of<sp/>backoffs<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a5ecaec7c14473496c253ade03429c4cf" kindref="member">Mrfi_RandomBackoffDelay</ref>();</highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>decrement<sp/>CCA<sp/>retries<sp/>before<sp/>loop<sp/>continues<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ccaRetries--;</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>CCA<sp/>retries<sp/>are<sp/>left,<sp/>abort<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>return<sp/>value<sp/>for<sp/>failed<sp/>transmit<sp/>and<sp/>break<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>returnValue<sp/>=<sp/><ref refid="mrfi_8h_1a5ab1fed8e2cfc5b8703f269be5fe909f" kindref="member">MRFI_TX_RESULT_FAILED</ref>;</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>CCA<sp/>Failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>CCA<sp/>loop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/>}</highlight><highlight class="comment">/*<sp/>txType<sp/>is<sp/>CCA<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="752"><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Done<sp/>with<sp/>TX.<sp/>Clean<sp/>up<sp/>time...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="755"><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Radio<sp/>is<sp/>already<sp/>in<sp/>IDLE<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="759"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Flush<sp/>the<sp/>transmit<sp/>FIFO.<sp/><sp/>It<sp/>must<sp/>be<sp/>flushed<sp/>so<sp/>that</highlight></codeline>
<codeline lineno="760"><highlight class="comment"><sp/><sp/><sp/>*<sp/>the<sp/>next<sp/>transmit<sp/>can<sp/>start<sp/>with<sp/>a<sp/>clean<sp/>slate.</highlight></codeline>
<codeline lineno="761"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1aaf4806b0f66e2e4909e7d23aa4d4d981" kindref="member">SFTX</ref><sp/>);</highlight></codeline>
<codeline lineno="763"><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>radio<sp/>was<sp/>in<sp/>RX<sp/>state<sp/>when<sp/>transmit<sp/>was<sp/>attempted,</highlight></codeline>
<codeline lineno="765"><highlight class="comment"><sp/><sp/><sp/>*<sp/>put<sp/>it<sp/>back<sp/>to<sp/>Rx<sp/>On<sp/>state.</highlight></codeline>
<codeline lineno="766"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mrfiRadioState<sp/>==<sp/><ref refid="mrfi_8h_1a0837380121f5b8443f48bf6df1061381" kindref="member">MRFI_RADIO_STATE_RX</ref>)</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a75fb468376bdd2a0153a132ae6e63a57" kindref="member">Mrfi_RxModeOn</ref>();</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<sp/>returnValue<sp/>);</highlight></codeline>
<codeline lineno="773"><highlight class="normal">}</highlight></codeline>
<codeline lineno="774"><highlight class="normal"></highlight></codeline>
<codeline lineno="775"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="776"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_Receive</highlight></codeline>
<codeline lineno="777"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="778"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Copies<sp/>last<sp/>packet<sp/>received<sp/>to<sp/>the<sp/>location<sp/>specified.</highlight></codeline>
<codeline lineno="779"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>function<sp/>is<sp/>meant<sp/>to<sp/>be<sp/>called<sp/>after<sp/>the<sp/>ISR<sp/>informs</highlight></codeline>
<codeline lineno="780"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>higher<sp/>level<sp/>code<sp/>that<sp/>there<sp/>is<sp/>a<sp/>newly<sp/>received<sp/>packet.</highlight></codeline>
<codeline lineno="781"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="782"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPacket<sp/>-<sp/>pointer<sp/>to<sp/>location<sp/>of<sp/>where<sp/>to<sp/>copy<sp/>received<sp/>packet</highlight></codeline>
<codeline lineno="783"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="784"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="785"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="786"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="787" refid="mrfi__radio_8c_1aade04b28418e5c8c463b3e770671dc89" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1acb9ea040fb57d4dd8cf65bfb5502e6ce" kindref="member">MRFI_Receive</ref>(<ref refid="structmrfiPacket__t" kindref="compound">mrfiPacket_t</ref><sp/>*<sp/>pPacket)</highlight></codeline>
<codeline lineno="788"><highlight class="normal">{</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/>*pPacket<sp/>=<sp/><ref refid="mrfi__radio_8c_1a09c03a05a6e2f7bb6f396617c79948db" kindref="member">mrfiIncomingPacket</ref>;</highlight></codeline>
<codeline lineno="790"><highlight class="normal">}</highlight></codeline>
<codeline lineno="791"><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="793"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_SyncPinRxIsr</highlight></codeline>
<codeline lineno="794"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="795"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>interrupt<sp/>is<sp/>called<sp/>when<sp/>the<sp/>SYNC<sp/>signal<sp/>transition<sp/>from<sp/>high<sp/>to<sp/>low.</highlight></codeline>
<codeline lineno="796"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>sync<sp/>signal<sp/>is<sp/>routed<sp/>to<sp/>the<sp/>sync<sp/>pin<sp/>which<sp/>is<sp/>a<sp/>GPIO<sp/>pin.<sp/><sp/>This<sp/>high-to-low</highlight></codeline>
<codeline lineno="797"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transition<sp/>signifies<sp/>a<sp/>receive<sp/>has<sp/>completed.<sp/><sp/>The<sp/>SYNC<sp/>signal<sp/>also<sp/>goes<sp/>from</highlight></codeline>
<codeline lineno="798"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>high<sp/>to<sp/>low<sp/>when<sp/>a<sp/>transmit<sp/>completes.<sp/><sp/><sp/>This<sp/>is<sp/>protected<sp/>against<sp/>within<sp/>the</highlight></codeline>
<codeline lineno="799"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transmit<sp/>function<sp/>by<sp/>disabling<sp/>sync<sp/>pin<sp/>interrupts<sp/>until<sp/>transmit<sp/>completes.</highlight></codeline>
<codeline lineno="800"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="801"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="802"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="803"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="804"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="805"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="806" refid="mrfi__radio_8c_1a083771eeaddacd61cdda9949a8d1e3c8" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1a083771eeaddacd61cdda9949a8d1e3c8" kindref="member">Mrfi_SyncPinRxIsr</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="807"><highlight class="normal">{</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>frameLen<sp/>=<sp/>0x00;</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>rxBytes;</highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>should<sp/>receive<sp/>this<sp/>interrupt<sp/>only<sp/>in<sp/>RX<sp/>state</highlight></codeline>
<codeline lineno="812"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Should<sp/>never<sp/>receive<sp/>it<sp/>if<sp/>RX<sp/>was<sp/>turned<sp/>On<sp/>only<sp/>for</highlight></codeline>
<codeline lineno="813"><highlight class="comment"><sp/><sp/><sp/>*<sp/>some<sp/>internal<sp/>mrfi<sp/>processing<sp/>like<sp/>-<sp/>during<sp/>CCA.</highlight></codeline>
<codeline lineno="814"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Otherwise<sp/>something<sp/>is<sp/>terribly<sp/>wrong.</highlight></codeline>
<codeline lineno="815"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>mrfiRadioState<sp/>==<sp/><ref refid="mrfi_8h_1a0837380121f5b8443f48bf6df1061381" kindref="member">MRFI_RADIO_STATE_RX</ref><sp/>);</highlight></codeline>
<codeline lineno="817"><highlight class="normal"></highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="819"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Get<sp/>RXBYTES</highlight></codeline>
<codeline lineno="820"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>-------------</highlight></codeline>
<codeline lineno="821"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"></highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="824"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>Read<sp/>the<sp/>RXBYTES<sp/>register<sp/>from<sp/>the<sp/>radio.</highlight></codeline>
<codeline lineno="825"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>Bit<sp/>description<sp/>of<sp/>RXBYTES<sp/>register:</highlight></codeline>
<codeline lineno="826"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>bit<sp/>7<sp/><sp/><sp/><sp/><sp/>-<sp/>RXFIFO_OVERFLOW,<sp/>set<sp/>if<sp/>receive<sp/>overflow<sp/>occurred</highlight></codeline>
<codeline lineno="827"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>bits<sp/>6:0<sp/><sp/>-<sp/>NUM_BYTES,<sp/>number<sp/>of<sp/>bytes<sp/>in<sp/>receive<sp/>FIFO</highlight></codeline>
<codeline lineno="828"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="829"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>Due<sp/>a<sp/>chip<sp/>bug,<sp/>the<sp/>RXBYTES<sp/>register<sp/>must<sp/>read<sp/>the<sp/>same<sp/>value<sp/>twice</highlight></codeline>
<codeline lineno="830"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>in<sp/>a<sp/>row<sp/>to<sp/>guarantee<sp/>an<sp/>accurate<sp/>value.</highlight></codeline>
<codeline lineno="831"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>rxBytesVerify;</highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/>rxBytesVerify<sp/>=<sp/><ref refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" kindref="member">MRFI_RADIO_REG_READ</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a8eca6a8fbb83bb59880f98786169519a" kindref="member">RXBYTES</ref><sp/>);</highlight></codeline>
<codeline lineno="836"><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rxBytes<sp/>=<sp/>rxBytesVerify;</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rxBytesVerify<sp/>=<sp/><ref refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" kindref="member">MRFI_RADIO_REG_READ</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a8eca6a8fbb83bb59880f98786169519a" kindref="member">RXBYTES</ref><sp/>);</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(rxBytes<sp/>!=<sp/>rxBytesVerify);</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight></codeline>
<codeline lineno="845"><highlight class="normal"></highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="847"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>FIFO<sp/>empty?</highlight></codeline>
<codeline lineno="848"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>-------------</highlight></codeline>
<codeline lineno="849"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"></highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="852"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>See<sp/>if<sp/>the<sp/>receive<sp/>FIFIO<sp/>is<sp/>empty<sp/>before<sp/>attempting<sp/>to<sp/>read<sp/>from<sp/>it.</highlight></codeline>
<codeline lineno="853"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>It<sp/>is<sp/>possible<sp/>nothing<sp/>the<sp/>FIFO<sp/>is<sp/>empty<sp/>even<sp/>though<sp/>the<sp/>interrupt<sp/>fired.</highlight></codeline>
<codeline lineno="854"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>This<sp/>can<sp/>happen<sp/>if<sp/>address<sp/>check<sp/>is<sp/>enabled<sp/>and<sp/>a<sp/>non-matching<sp/>packet<sp/>is</highlight></codeline>
<codeline lineno="855"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>received.<sp/><sp/>In<sp/>that<sp/>case,<sp/>the<sp/>radio<sp/>automatically<sp/>removes<sp/>the<sp/>packet<sp/>from</highlight></codeline>
<codeline lineno="856"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>the<sp/>FIFO.</highlight></codeline>
<codeline lineno="857"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rxBytes<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>receive<sp/>FIFO<sp/>is<sp/>empty<sp/>-<sp/>do<sp/>nothing,<sp/>skip<sp/>to<sp/>end<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>receive<sp/>FIFO<sp/>is<sp/>not<sp/>empty,<sp/>continue<sp/>processing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="865"><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="867"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Process<sp/>frame<sp/>length</highlight></codeline>
<codeline lineno="868"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>----------------------</highlight></codeline>
<codeline lineno="869"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"></highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>read<sp/>the<sp/>first<sp/>byte<sp/>from<sp/>FIFO<sp/>-<sp/>the<sp/>packet<sp/>length<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a724b8e50996532ea9d61c34a061911bd" kindref="member">MRFI_RADIO_READ_RX_FIFO</ref>(&amp;frameLen,<sp/><ref refid="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" kindref="member">MRFI_LENGTH_FIELD_SIZE</ref>);</highlight></codeline>
<codeline lineno="873"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"></highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="876"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>Make<sp/>sure<sp/>that<sp/>the<sp/>frame<sp/>length<sp/>just<sp/>read<sp/>corresponds<sp/>to<sp/>number<sp/>of<sp/>bytes<sp/>in<sp/>the<sp/>buffer.</highlight></codeline>
<codeline lineno="877"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>If<sp/>these<sp/>do<sp/>not<sp/>match<sp/>up<sp/>something<sp/>is<sp/>wrong.</highlight></codeline>
<codeline lineno="878"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="879"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>This<sp/>can<sp/>happen<sp/>for<sp/>several<sp/>reasons:</highlight></codeline>
<codeline lineno="880"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>1)<sp/>Incoming<sp/>packet<sp/>has<sp/>an<sp/>incorrect<sp/>format<sp/>or<sp/>is<sp/>corrupted.</highlight></codeline>
<codeline lineno="881"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>2)<sp/>The<sp/>receive<sp/>FIFO<sp/>overflowed.<sp/><sp/>Overflow<sp/>is<sp/>indicated<sp/>by<sp/>the<sp/>high</highlight></codeline>
<codeline lineno="882"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>bit<sp/>of<sp/>rxBytes.<sp/><sp/>This<sp/>guarantees<sp/>the<sp/>value<sp/>of<sp/>rxBytes<sp/>value<sp/>will<sp/>not</highlight></codeline>
<codeline lineno="883"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>match<sp/>the<sp/>number<sp/>of<sp/>bytes<sp/>in<sp/>the<sp/>FIFO<sp/>for<sp/>overflow<sp/>condition.</highlight></codeline>
<codeline lineno="884"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>3)<sp/>Interrupts<sp/>were<sp/>blocked<sp/>for<sp/>an<sp/>abnormally<sp/>long<sp/>time<sp/>which</highlight></codeline>
<codeline lineno="885"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>allowed<sp/>a<sp/>following<sp/>packet<sp/>to<sp/>at<sp/>least<sp/>start<sp/>filling<sp/>the</highlight></codeline>
<codeline lineno="886"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>receive<sp/>FIFO.<sp/><sp/>In<sp/>this<sp/>case,<sp/>all<sp/>received<sp/>and<sp/>partially<sp/>received</highlight></codeline>
<codeline lineno="887"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>packets<sp/>will<sp/>be<sp/>lost<sp/>-<sp/>the<sp/>packet<sp/>in<sp/>the<sp/>FIFO<sp/>and<sp/>the<sp/>packet<sp/>coming<sp/>in.</highlight></codeline>
<codeline lineno="888"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>is<sp/>the<sp/>price<sp/>the<sp/>user<sp/>pays<sp/>if<sp/>they<sp/>implement<sp/>a<sp/>giant</highlight></codeline>
<codeline lineno="889"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>critical<sp/>section.</highlight></codeline>
<codeline lineno="890"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>4)<sp/>A<sp/>failed<sp/>transmit<sp/>forced<sp/>radio<sp/>to<sp/>IDLE<sp/>state<sp/>to<sp/>flush<sp/>the<sp/>transmit<sp/>FIFO.</highlight></codeline>
<codeline lineno="891"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>could<sp/>cause<sp/>an<sp/>active<sp/>receive<sp/>to<sp/>be<sp/>cut<sp/>short.</highlight></codeline>
<codeline lineno="892"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="893"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>Also<sp/>check<sp/>the<sp/>sanity<sp/>of<sp/>the<sp/>length<sp/>to<sp/>guard<sp/>against<sp/>rogue<sp/>frames.</highlight></codeline>
<codeline lineno="894"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((rxBytes<sp/>!=<sp/>(frameLen<sp/>+<sp/><ref refid="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" kindref="member">MRFI_LENGTH_FIELD_SIZE</ref><sp/>+<sp/><ref refid="mrfi_8h_1a852beca8e3f6f3c1338ceac7a8b4d6a0" kindref="member">MRFI_RX_METRICS_SIZE</ref>))<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((frameLen<sp/>+<sp/><ref refid="mrfi__radio_8c_1a04c4ee0d525f9c31993ae451235e2ff1" kindref="member">MRFI_LENGTH_FIELD_SIZE</ref>)<sp/>&gt;<sp/><ref refid="mrfi_8h_1abe6c088541b7554888dce7feecb6882e" kindref="member">MRFI_MAX_FRAME_SIZE</ref>)<sp/>||</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(frameLen<sp/>&lt;<sp/><ref refid="mrfi__radio_8c_1a09db40de2fed1444a1c3eadcb5b880b7" kindref="member">MRFI_MIN_SMPL_FRAME_SIZE</ref>)</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1ad45ed2a3e324170701c79dca25f0bbc9" kindref="member">bspIState_t</ref><sp/>s;</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>noFrame++;</highlight></codeline>
<codeline lineno="902"><highlight class="normal"></highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>mismatch<sp/>between<sp/>bytes-in-FIFO<sp/>and<sp/>frame<sp/>length<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"></highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="906"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>Flush<sp/>receive<sp/>FIFO<sp/>to<sp/>reset<sp/>receive.<sp/><sp/>Must<sp/>go<sp/>to<sp/>IDLE<sp/>state<sp/>to<sp/>do<sp/>this.</highlight></codeline>
<codeline lineno="907"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>The<sp/>critical<sp/>section<sp/>guarantees<sp/>a<sp/>transmit<sp/>does<sp/>not<sp/>occur<sp/>while<sp/>cleaning<sp/>up.</highlight></codeline>
<codeline lineno="908"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1a4d19917ceac9ef0f757b861e802d22ad" kindref="member">BSP_ENTER_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" kindref="member">MRFI_STROBE_IDLE_AND_WAIT</ref>();</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a793903e47409c82e0b914da66c2d3885" kindref="member">SFRX</ref><sp/>);</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1ab2c756686b69cc7d7f8b94a3bb7805d7" kindref="member">SRX</ref><sp/>);</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1abd6fc0d94f04f101b14219891a771465" kindref="member">BSP_EXIT_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="914"><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>flush<sp/>complete,<sp/>skip<sp/>to<sp/>end<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>bytes-in-FIFO<sp/>and<sp/>frame<sp/>length<sp/>match<sp/>up<sp/>-<sp/>continue<sp/>processing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="920"><highlight class="normal"></highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="922"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Get<sp/>packet</highlight></codeline>
<codeline lineno="923"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>------------</highlight></codeline>
<codeline lineno="924"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="925"><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clean<sp/>out<sp/>buffer<sp/>to<sp/>help<sp/>protect<sp/>against<sp/>spurious<sp/>frames<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>memset(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>,<sp/>0x00,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>));</highlight></codeline>
<codeline lineno="928"><highlight class="normal"></highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>length<sp/>field<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>[<ref refid="mrfi__radio_8c_1a0da8ef923d22d977d308369e46156f70" kindref="member">MRFI_LENGTH_FIELD_OFS</ref>]<sp/>=<sp/>frameLen;</highlight></codeline>
<codeline lineno="931"><highlight class="normal"></highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>packet<sp/>from<sp/>FIFO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a724b8e50996532ea9d61c34a061911bd" kindref="member">MRFI_RADIO_READ_RX_FIFO</ref>(&amp;(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1ac596bb226cf04fa6addc35c3c6ac8664" kindref="member">frame</ref>[<ref refid="mrfi__radio_8c_1a4ce86ec9ba28dd0ff99dc43aa1882380" kindref="member">MRFI_FRAME_BODY_OFS</ref>]),<sp/>frameLen);</highlight></codeline>
<codeline lineno="934"><highlight class="normal"></highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>receive<sp/>metrics<sp/>from<sp/>FIFO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a724b8e50996532ea9d61c34a061911bd" kindref="member">MRFI_RADIO_READ_RX_FIFO</ref>(&amp;(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>[0]),<sp/><ref refid="mrfi_8h_1a852beca8e3f6f3c1338ceac7a8b4d6a0" kindref="member">MRFI_RX_METRICS_SIZE</ref>);</highlight></codeline>
<codeline lineno="937"><highlight class="normal"></highlight></codeline>
<codeline lineno="938"><highlight class="normal"></highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="940"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>CRC<sp/>check</highlight></codeline>
<codeline lineno="941"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>------------</highlight></codeline>
<codeline lineno="942"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="943"><highlight class="normal"></highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="945"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>Note!<sp/><sp/>Automatic<sp/>CRC<sp/>check<sp/>is<sp/>not,<sp/>and<sp/>must<sp/>not,<sp/>be<sp/>enabled.<sp/><sp/>This<sp/>feature</highlight></codeline>
<codeline lineno="946"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>flushes<sp/>the<sp/>*entire*<sp/>receive<sp/>FIFO<sp/>when<sp/>CRC<sp/>fails.<sp/><sp/>If<sp/>this<sp/>feature<sp/>is</highlight></codeline>
<codeline lineno="947"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>enabled<sp/>it<sp/>is<sp/>possible<sp/>to<sp/>be<sp/>reading<sp/>from<sp/>the<sp/>FIFO<sp/>and<sp/>have<sp/>a<sp/>second</highlight></codeline>
<codeline lineno="948"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>receive<sp/>occur<sp/>that<sp/>fails<sp/>CRC<sp/>and<sp/>automatically<sp/>flushes<sp/>the<sp/>receive<sp/>FIFO.</highlight></codeline>
<codeline lineno="949"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>This<sp/>could<sp/>cause<sp/>reads<sp/>from<sp/>an<sp/>empty<sp/>receive<sp/>FIFO<sp/>which<sp/>puts<sp/>the<sp/>radio</highlight></codeline>
<codeline lineno="950"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>into<sp/>an<sp/>undefined<sp/>state.</highlight></codeline>
<codeline lineno="951"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="952"><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>determine<sp/>if<sp/>CRC<sp/>failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>[<ref refid="mrfi_8h_1aef4310889554920ea06efa73aa7000c9" kindref="member">MRFI_RX_METRICS_CRC_LQI_OFS</ref>]<sp/>&amp;<sp/><ref refid="mrfi__radio_8c_1a86ba6280637d3e6f090d3567936576f1" kindref="member">MRFI_RX_METRICS_CRC_OK_MASK</ref>))</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>CRC<sp/>failed<sp/>-<sp/>do<sp/>nothing,<sp/>skip<sp/>to<sp/>end<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crcFail++;</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>CRC<sp/>passed<sp/>-<sp/>continue<sp/>processing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crcPass++;</highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="965"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Filtering</highlight></codeline>
<codeline lineno="966"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>-----------</highlight></codeline>
<codeline lineno="967"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="968"><highlight class="normal"></highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>address<sp/>is<sp/>not<sp/>filtered,<sp/>receive<sp/>is<sp/>successful<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="mrfi__radio_8c_1a5f770a9f4e5bdbcce429e1cb7311497f" kindref="member">Mrfi_RxAddrIsFiltered</ref>(<ref refid="mrfi_8h_1ae75cb2f907c5566622545aa047687ce4" kindref="member">MRFI_P_DST_ADDR</ref>(&amp;mrfiIncomingPacket)))</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="974"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>Receive<sp/>successful</highlight></codeline>
<codeline lineno="975"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>--------------------</highlight></codeline>
<codeline lineno="976"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="977"><highlight class="normal"></highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Convert<sp/>the<sp/>raw<sp/>RSSI<sp/>value<sp/>and<sp/>do<sp/>offset<sp/>compensation<sp/>for<sp/>this<sp/>radio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>[<ref refid="mrfi_8h_1a1c2bec64b1faacc7fe0a404bdea4073a" kindref="member">MRFI_RX_METRICS_RSSI_OFS</ref>]<sp/>=</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1afc905a5c17aaf33a0eb561035eda6caf" kindref="member">Mrfi_CalculateRssi</ref>(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>[<ref refid="mrfi_8h_1a1c2bec64b1faacc7fe0a404bdea4073a" kindref="member">MRFI_RX_METRICS_RSSI_OFS</ref>]);</highlight></codeline>
<codeline lineno="981"><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Remove<sp/>the<sp/>CRC<sp/>valid<sp/>bit<sp/>from<sp/>the<sp/>LQI<sp/>byte<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>[<ref refid="mrfi_8h_1aef4310889554920ea06efa73aa7000c9" kindref="member">MRFI_RX_METRICS_CRC_LQI_OFS</ref>]<sp/>=</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(mrfiIncomingPacket.<ref refid="structmrfiPacket__t_1a8b95fbda90600ec59752a405fd198770" kindref="member">rxMetrics</ref>[<ref refid="mrfi_8h_1aef4310889554920ea06efa73aa7000c9" kindref="member">MRFI_RX_METRICS_CRC_LQI_OFS</ref>]<sp/>&amp;<sp/><ref refid="mrfi__radio_8c_1a60160d4d48187c255fca1ec15b9cd588" kindref="member">MRFI_RX_METRICS_LQI_MASK</ref>);</highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight></codeline>
<codeline lineno="986"><highlight class="normal"></highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>call<sp/>external,<sp/>higher<sp/>level<sp/>&quot;receive<sp/>complete&quot;<sp/>processing<sp/>routine<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi_8h_1a7a3837b156583a8dc903abb0d2c07161" kindref="member">MRFI_RxCompleteISR</ref>();</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="994"><highlight class="normal"></highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------------------</highlight></codeline>
<codeline lineno="996"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>End<sp/>of<sp/>function</highlight></codeline>
<codeline lineno="997"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>-------------------</highlight></codeline>
<codeline lineno="998"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="999"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1002"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_RxModeOn</highlight></codeline>
<codeline lineno="1003"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1004"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Put<sp/>radio<sp/>into<sp/>receive<sp/>mode.</highlight></codeline>
<codeline lineno="1005"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1006"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1007"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1008"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1009"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1010"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1011" refid="mrfi__radio_8c_1a75fb468376bdd2a0153a132ae6e63a57" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1a75fb468376bdd2a0153a132ae6e63a57" kindref="member">Mrfi_RxModeOn</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1012"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>any<sp/>residual<sp/>receive<sp/>interrupt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1afaf143953299bc56ff681bf53f8acba5" kindref="member">MRFI_CLEAR_SYNC_PIN_INT_FLAG</ref>();</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"></highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>send<sp/>strobe<sp/>to<sp/>enter<sp/>receive<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1ab2c756686b69cc7d7f8b94a3bb7805d7" kindref="member">SRX</ref><sp/>);</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"></highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>enable<sp/>receive<sp/>interrupts<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1af0c1d3283d7e3b03db6290f455ee7a78" kindref="member">MRFI_ENABLE_SYNC_PIN_INT</ref>();</highlight></codeline>
<codeline lineno="1021"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1024"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_RxOn</highlight></codeline>
<codeline lineno="1025"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1026"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Turn<sp/>on<sp/>the<sp/>receiver.<sp/><sp/>No<sp/>harm<sp/>is<sp/>done<sp/>if<sp/>this<sp/>function<sp/>is<sp/>called<sp/>when</highlight></codeline>
<codeline lineno="1027"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>receiver<sp/>is<sp/>already<sp/>on.</highlight></codeline>
<codeline lineno="1028"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1029"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1030"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1031"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1032"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1033"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1034" refid="mrfi__radio_8c_1accfc12020f50d7ac7053f230cbaecaeb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1accfc12020f50d7ac7053f230cbaecaeb" kindref="member">MRFI_RxOn</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1035"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>radio<sp/>must<sp/>be<sp/>awake<sp/>before<sp/>we<sp/>can<sp/>move<sp/>it<sp/>to<sp/>RX<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>mrfiRadioState<sp/>!=<sp/><ref refid="mrfi_8h_1aa8dcc7c7edd4f50ffe881425cb965482" kindref="member">MRFI_RADIO_STATE_OFF</ref><sp/>);</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"></highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>radio<sp/>is<sp/>off,<sp/>turn<sp/>it<sp/>on<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mrfiRadioState<sp/>!=<sp/><ref refid="mrfi_8h_1a0837380121f5b8443f48bf6df1061381" kindref="member">MRFI_RADIO_STATE_RX</ref>)</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/>mrfiRadioState<sp/>=<sp/><ref refid="mrfi_8h_1a0837380121f5b8443f48bf6df1061381" kindref="member">MRFI_RADIO_STATE_RX</ref>;</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a75fb468376bdd2a0153a132ae6e63a57" kindref="member">Mrfi_RxModeOn</ref>();</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1045"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"></highlight></codeline>
<codeline lineno="1047"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1048"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_RxModeOff</highlight></codeline>
<codeline lineno="1049"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1050"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>-</highlight></codeline>
<codeline lineno="1051"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1052"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1053"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1054"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1055"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1056"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1057" refid="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" kindref="member">Mrfi_RxModeOff</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1058"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>disable<sp/>receive<sp/>interrupts<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a5e587f63a538e9c505e3307942253948" kindref="member">MRFI_DISABLE_SYNC_PIN_INT</ref>();</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"></highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>turn<sp/>off<sp/>radio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" kindref="member">MRFI_STROBE_IDLE_AND_WAIT</ref>();</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"></highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>flush<sp/>the<sp/>receive<sp/>FIFO<sp/>of<sp/>any<sp/>residual<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a793903e47409c82e0b914da66c2d3885" kindref="member">SFRX</ref><sp/>);</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"></highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>receive<sp/>interrupt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1afaf143953299bc56ff681bf53f8acba5" kindref="member">MRFI_CLEAR_SYNC_PIN_INT_FLAG</ref>();</highlight></codeline>
<codeline lineno="1070"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"></highlight></codeline>
<codeline lineno="1073"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1074"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_RxIdle</highlight></codeline>
<codeline lineno="1075"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1076"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Put<sp/>radio<sp/>in<sp/>idle<sp/>mode<sp/>(receiver<sp/>if<sp/>off).<sp/><sp/>No<sp/>harm<sp/>is<sp/>done<sp/>this<sp/>function<sp/>is</highlight></codeline>
<codeline lineno="1077"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>called<sp/>when<sp/>radio<sp/>is<sp/>already<sp/>idle.</highlight></codeline>
<codeline lineno="1078"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1079"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1080"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1081"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1082"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1083"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1084" refid="mrfi__radio_8c_1a18ce44f02f22c82b5750eda677313586" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a18ce44f02f22c82b5750eda677313586" kindref="member">MRFI_RxIdle</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1085"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>radio<sp/>must<sp/>be<sp/>awake<sp/>to<sp/>move<sp/>it<sp/>to<sp/>idle<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>mrfiRadioState<sp/>!=<sp/><ref refid="mrfi_8h_1aa8dcc7c7edd4f50ffe881425cb965482" kindref="member">MRFI_RADIO_STATE_OFF</ref><sp/>);</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"></highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>radio<sp/>is<sp/>on,<sp/>turn<sp/>it<sp/>off<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mrfiRadioState<sp/>==<sp/><ref refid="mrfi_8h_1a0837380121f5b8443f48bf6df1061381" kindref="member">MRFI_RADIO_STATE_RX</ref>)</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" kindref="member">Mrfi_RxModeOff</ref>();</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/>mrfiRadioState<sp/>=<sp/><ref refid="mrfi_8h_1a28cd67d2e2f10b99593924abdd5dcf23" kindref="member">MRFI_RADIO_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1095"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"></highlight></codeline>
<codeline lineno="1097"><highlight class="normal"></highlight></codeline>
<codeline lineno="1098"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1099"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_Sleep</highlight></codeline>
<codeline lineno="1100"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1101"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Request<sp/>radio<sp/>go<sp/>to<sp/>sleep.</highlight></codeline>
<codeline lineno="1102"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1103"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1104"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1105"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1106"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1107"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1108" refid="mrfi__radio_8c_1a796a81bd9697dbaca7ac470b4456a4fb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a796a81bd9697dbaca7ac470b4456a4fb" kindref="member">MRFI_Sleep</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1109"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1ad45ed2a3e324170701c79dca25f0bbc9" kindref="member">bspIState_t</ref><sp/>s;</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Critical<sp/>section<sp/>necessary<sp/>for<sp/>watertight<sp/>testing<sp/>and</highlight></codeline>
<codeline lineno="1113"><highlight class="comment"><sp/><sp/><sp/>*<sp/>setting<sp/>of<sp/>state<sp/>variables.</highlight></codeline>
<codeline lineno="1114"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1a4d19917ceac9ef0f757b861e802d22ad" kindref="member">BSP_ENTER_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"></highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>radio<sp/>is<sp/>not<sp/>asleep,<sp/>put<sp/>it<sp/>to<sp/>sleep<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mrfiRadioState<sp/>!=<sp/><ref refid="mrfi_8h_1aa8dcc7c7edd4f50ffe881425cb965482" kindref="member">MRFI_RADIO_STATE_OFF</ref>)</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>go<sp/>to<sp/>idle<sp/>so<sp/>radio<sp/>is<sp/>in<sp/>a<sp/>known<sp/>state<sp/>before<sp/>sleeping<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi_8h_1a18ce44f02f22c82b5750eda677313586" kindref="member">MRFI_RxIdle</ref>();</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"></highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Strobe<sp/>Power<sp/>Down<sp/>(SPWD):<sp/>puts<sp/>the<sp/>radio<sp/>in<sp/>SLEEP<sp/>state.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Chip<sp/>bug:<sp/>Radio<sp/>does<sp/>not<sp/>come<sp/>out<sp/>of<sp/>this<sp/>SLEEP<sp/>when<sp/>put<sp/>to<sp/>sleep</highlight></codeline>
<codeline lineno="1125"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>using<sp/>the<sp/>SPWD<sp/>cmd.<sp/>However,<sp/>it<sp/>does<sp/>wakes<sp/>up<sp/>if<sp/>SXOFF<sp/>was<sp/>used<sp/>to</highlight></codeline>
<codeline lineno="1126"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>put<sp/>it<sp/>to<sp/>sleep.</highlight></codeline>
<codeline lineno="1127"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a15dd2e8f3fc2d03b61ee285594e03b3f" kindref="member">MRFI_STROBE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a2ba866e663962a4971cfaa63ebbf101b" kindref="member">SXOFF</ref><sp/>);</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"></highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Our<sp/>new<sp/>state<sp/>is<sp/>OFF<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>mrfiRadioState<sp/>=<sp/><ref refid="mrfi_8h_1aa8dcc7c7edd4f50ffe881425cb965482" kindref="member">MRFI_RADIO_STATE_OFF</ref>;</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"></highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1abd6fc0d94f04f101b14219891a771465" kindref="member">BSP_EXIT_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137"><highlight class="normal"></highlight></codeline>
<codeline lineno="1138"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1139"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_WakeUp</highlight></codeline>
<codeline lineno="1140"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1141"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Wake<sp/>up<sp/>radio<sp/>from<sp/>sleep<sp/>state.</highlight></codeline>
<codeline lineno="1142"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1143"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1144"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1145"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1146"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1147"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1148" refid="mrfi__radio_8c_1ad6e514add1df68c6f3d95f2b40ae675e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1ad6e514add1df68c6f3d95f2b40ae675e" kindref="member">MRFI_WakeUp</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1149"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>radio<sp/>is<sp/>already<sp/>awake,<sp/>just<sp/>ignore<sp/>wakeup<sp/>request<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mrfiRadioState<sp/>!=<sp/><ref refid="mrfi_8h_1aa8dcc7c7edd4f50ffe881425cb965482" kindref="member">MRFI_RADIO_STATE_OFF</ref>)</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"></highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a44804b094d8337ac1c4f087eae56ce77" kindref="member">MRFI_STROBE_IDLE_AND_WAIT</ref>();</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"></highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>enter<sp/>idle<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/>mrfiRadioState<sp/>=<sp/><ref refid="mrfi_8h_1a28cd67d2e2f10b99593924abdd5dcf23" kindref="member">MRFI_RADIO_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1160"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"></highlight></codeline>
<codeline lineno="1162"><highlight class="normal"></highlight></codeline>
<codeline lineno="1163"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1164"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_RadioIsr</highlight></codeline>
<codeline lineno="1165"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1166"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Radio<sp/>Interface<sp/>interrupts<sp/>as<sp/>well<sp/>as<sp/>Radio<sp/>interrupts<sp/>are</highlight></codeline>
<codeline lineno="1167"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mapped<sp/>to<sp/>this<sp/>interrupt<sp/>vector.</highlight></codeline>
<codeline lineno="1168"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1169"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>-</highlight></codeline>
<codeline lineno="1170"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1171"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>-</highlight></codeline>
<codeline lineno="1172"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1173"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1174"><highlight class="normal"></highlight><highlight class="comment">//<sp/>[BM]<sp/>Changed<sp/>because<sp/>CC1101_VECTOR<sp/>ISR<sp/>is<sp/>declared<sp/>of<sp/>source<sp/>code<sp/>and<sp/>this<sp/>handler<sp/>is<sp/>called<sp/>indirect</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1175"><highlight class="normal"></highlight><highlight class="comment">//BSP_ISR_FUNCTION(<sp/>MRFI_RadioIsr,<sp/>CC1101_VECTOR<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1176" refid="mrfi__radio_8c_1a75f26c779654e013c622fb6b1e477929" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="radio_8c_1a75f26c779654e013c622fb6b1e477929" kindref="member">MRFI_RadioIsr</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1177"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>coreIntSource<sp/>=<sp/>RF1AIV;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Radio<sp/>Core<sp/><sp/><sp/><sp/><sp/><sp/>interrupt<sp/>register<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>interfaceIntSource<sp/>=<sp/>RF1AIFIV;<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Radio<sp/>Interface<sp/>interrupt<sp/>register<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1180"><highlight class="normal"></highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Interface<sp/>interrupt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(interfaceIntSource)</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(interfaceIntSource<sp/>==<sp/>RF1AIFIV_RFERRIFG)</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>interfaceError<sp/>=<sp/>RF1AIFERRV;</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"></highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(interfaceError<sp/>==<sp/>RF1AIFERRV_LVERR)</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Low<sp/>core<sp/>voltage<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(interfaceError<sp/>==<sp/>RF1AIFERRV_OPERR)</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Operand<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(interfaceError<sp/>==<sp/>RF1AIFERRV_OUTERR)</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>data<sp/>not<sp/>available<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(interfaceError<sp/>==<sp/>RF1AIFERRV_OPOVERR)</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Operand<sp/>overwrite<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Can&apos;t<sp/>possibly<sp/>happen.<sp/>If<sp/>interface<sp/>error<sp/>flag<sp/>was<sp/>set,</highlight></codeline>
<codeline lineno="1207"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>then<sp/>one<sp/>of<sp/>the<sp/>interface<sp/>errors<sp/>must<sp/>be<sp/>set.</highlight></codeline>
<codeline lineno="1208"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1a61e44c4acb2499372ba02b9fcf1c8d02" kindref="member">MRFI_FORCE_ASSERT</ref>();</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"></highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Assert<sp/>anyways.<sp/>No<sp/>error<sp/>handling<sp/>implemented.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1a61e44c4acb2499372ba02b9fcf1c8d02" kindref="member">MRFI_FORCE_ASSERT</ref>();</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Not<sp/>expecting<sp/>any<sp/>other<sp/>interface<sp/>interrupts<sp/>(data<sp/>in/out,<sp/>status/instr<sp/>in,<sp/>fifo<sp/>rx/tx)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1a61e44c4acb2499372ba02b9fcf1c8d02" kindref="member">MRFI_FORCE_ASSERT</ref>();</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Radio<sp/>Core<sp/>interrupt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(coreIntSource)</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>for<sp/>SYNC<sp/>interrupt<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(coreIntSource<sp/>==<sp/>RF1AIV_RFIFG9)</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="mrfi__radio_8c_1a86d240c1c92c55339b4120817959b762" kindref="member">MRFI_SYNC_PIN_INT_IS_ENABLED</ref>())</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>clear<sp/>the<sp/>sync<sp/>pin<sp/>interrupt,<sp/>run<sp/>sync<sp/>pin<sp/>ISR<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1232"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>NOTE!<sp/><sp/>The<sp/>following<sp/>macro<sp/>clears<sp/>the<sp/>interrupt<sp/>flag<sp/>but<sp/>it<sp/>also<sp/>*must*</highlight></codeline>
<codeline lineno="1233"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>reset<sp/>the<sp/>interrupt<sp/>capture.<sp/><sp/>In<sp/>other<sp/>words,<sp/>if<sp/>a<sp/>second<sp/>interrupt</highlight></codeline>
<codeline lineno="1234"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>occurs<sp/>after<sp/>the<sp/>flag<sp/>is<sp/>cleared<sp/>it<sp/>must<sp/>be<sp/>processed,<sp/>i.e.<sp/>this<sp/>interrupt</highlight></codeline>
<codeline lineno="1235"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>exits<sp/>then<sp/>immediately<sp/>starts<sp/>again.<sp/><sp/>Most<sp/>microcontrollers<sp/>handle<sp/>this</highlight></codeline>
<codeline lineno="1236"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>naturally<sp/>but<sp/>it<sp/>must<sp/>be<sp/>verified<sp/>for<sp/>every<sp/>target.</highlight></codeline>
<codeline lineno="1237"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1afaf143953299bc56ff681bf53f8acba5" kindref="member">MRFI_CLEAR_SYNC_PIN_INT_FLAG</ref>();</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"></highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a083771eeaddacd61cdda9949a8d1e3c8" kindref="member">Mrfi_SyncPinRxIsr</ref>();</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Fatal<sp/>error.<sp/>SYNC<sp/>interrupt<sp/>is<sp/>not<sp/>supposed<sp/>to<sp/>happen<sp/>at<sp/>this<sp/>time.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1a61e44c4acb2499372ba02b9fcf1c8d02" kindref="member">MRFI_FORCE_ASSERT</ref>();</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Fatal<sp/>error.<sp/>No<sp/>other<sp/>Radio<sp/>interurpt<sp/>is<sp/>enabled.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mrfi__defs_8h_1a61e44c4acb2499372ba02b9fcf1c8d02" kindref="member">MRFI_FORCE_ASSERT</ref>();</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1254"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"></highlight></codeline>
<codeline lineno="1256"><highlight class="normal"></highlight></codeline>
<codeline lineno="1257"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1258"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_Rssi</highlight></codeline>
<codeline lineno="1259"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1260"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns<sp/>&quot;live&quot;<sp/>RSSI<sp/>value</highlight></codeline>
<codeline lineno="1261"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1262"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1263"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1264"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>RSSI<sp/>value<sp/>in<sp/>units<sp/>of<sp/>dBm.</highlight></codeline>
<codeline lineno="1265"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1266"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1267" refid="mrfi__radio_8c_1a1cd4ab60377864697beb8c7f8f408adc" refkind="member"><highlight class="normal"><ref refid="bsp__msp430__defs_8h_1aef44329758059c91c76d334e8fc09700" kindref="member">int8_t</ref><sp/><ref refid="mrfi_8h_1a1cd4ab60377864697beb8c7f8f408adc" kindref="member">MRFI_Rssi</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1268"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>regValue;</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Radio<sp/>must<sp/>be<sp/>in<sp/>RX<sp/>state<sp/>to<sp/>measure<sp/>rssi.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>mrfiRadioState<sp/>==<sp/><ref refid="mrfi_8h_1a0837380121f5b8443f48bf6df1061381" kindref="member">MRFI_RADIO_STATE_RX</ref><sp/>);</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"></highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wait<sp/>for<sp/>the<sp/>RSSI<sp/>to<sp/>be<sp/>valid:</highlight></codeline>
<codeline lineno="1275"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Just<sp/>having<sp/>the<sp/>Radio<sp/>ON<sp/>is<sp/>not<sp/>enough<sp/>to<sp/>read</highlight></codeline>
<codeline lineno="1276"><highlight class="comment"><sp/><sp/><sp/>*<sp/>the<sp/>correct<sp/>RSSI<sp/>value.<sp/>The<sp/>Radio<sp/>must<sp/>in<sp/>RX<sp/>mode<sp/>for</highlight></codeline>
<codeline lineno="1277"><highlight class="comment"><sp/><sp/><sp/>*<sp/>a<sp/>certain<sp/>duration.<sp/>This<sp/>duration<sp/>depends<sp/>on</highlight></codeline>
<codeline lineno="1278"><highlight class="comment"><sp/><sp/><sp/>*<sp/>the<sp/>baud<sp/>rate<sp/>and<sp/>the<sp/>received<sp/>signal<sp/>strength<sp/>itself.</highlight></codeline>
<codeline lineno="1279"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a99bfbdbcc244f20e208f8ff506ed7f72" kindref="member">MRFI_RSSI_VALID_WAIT</ref>();</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"></highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>the<sp/>RSSI<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/>regValue<sp/>=<sp/><ref refid="mrfi__radio_8c_1a5d843804cf60bc0171b941c5a78d6592" kindref="member">MRFI_RADIO_REG_READ</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a91888bdc573835ec5a22972f6c7d69ba" kindref="member">RSSI</ref><sp/>);</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"></highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>convert<sp/>and<sp/>do<sp/>offset<sp/>compensation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<sp/><ref refid="mrfi__radio_8c_1afc905a5c17aaf33a0eb561035eda6caf" kindref="member">Mrfi_CalculateRssi</ref>(regValue)<sp/>);</highlight></codeline>
<codeline lineno="1287"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal"></highlight></codeline>
<codeline lineno="1290"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1291"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_CalculateRssi</highlight></codeline>
<codeline lineno="1292"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1293"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Does<sp/>binary<sp/>to<sp/>decimal<sp/>conversion<sp/>and<sp/>offset<sp/>compensation.</highlight></codeline>
<codeline lineno="1294"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1295"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1296"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1297"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>RSSI<sp/>value<sp/>in<sp/>units<sp/>of<sp/>dBm.</highlight></codeline>
<codeline lineno="1298"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1299"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1300" refid="mrfi__radio_8c_1afc905a5c17aaf33a0eb561035eda6caf" refkind="member"><highlight class="normal"><ref refid="bsp__msp430__defs_8h_1aef44329758059c91c76d334e8fc09700" kindref="member">int8_t</ref><sp/><ref refid="mrfi__radio_8c_1afc905a5c17aaf33a0eb561035eda6caf" kindref="member">Mrfi_CalculateRssi</ref>(<ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>rawValue)</highlight></codeline>
<codeline lineno="1301"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a269259c924dce846340ddbb810db2e3c" kindref="member">int16_t</ref><sp/>rssi;</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"></highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>raw<sp/>value<sp/>is<sp/>in<sp/>2&apos;s<sp/>complement<sp/>and<sp/>in<sp/>half<sp/>db<sp/>steps.<sp/>Convert<sp/>it<sp/>to</highlight></codeline>
<codeline lineno="1305"><highlight class="comment"><sp/><sp/><sp/>*<sp/>decimal<sp/>taking<sp/>into<sp/>account<sp/>the<sp/>offset<sp/>value.</highlight></codeline>
<codeline lineno="1306"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rawValue<sp/>&gt;=<sp/>128)</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/>rssi<sp/>=<sp/>(<ref refid="bsp__msp430__defs_8h_1a269259c924dce846340ddbb810db2e3c" kindref="member">int16_t</ref>)(rawValue<sp/>-<sp/>256)/2<sp/>-<sp/>MRFI_RSSI_OFFSET;</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/>rssi<sp/>=<sp/>(rawValue/2)<sp/>-<sp/>MRFI_RSSI_OFFSET;</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Restrict<sp/>this<sp/>value<sp/>to<sp/>least<sp/>value<sp/>can<sp/>be<sp/>held<sp/>in<sp/>an<sp/>8<sp/>bit<sp/>signed<sp/>int<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rssi<sp/>&lt;<sp/>-128)</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/>rssi<sp/>=<sp/>-128;</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"></highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rssi;</highlight></codeline>
<codeline lineno="1323"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"></highlight></codeline>
<codeline lineno="1325"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1326"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_RandomByte</highlight></codeline>
<codeline lineno="1327"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1328"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns<sp/>a<sp/>random<sp/>byte.<sp/>This<sp/>is<sp/>a<sp/>pseudo-random<sp/>number<sp/>generator.</highlight></codeline>
<codeline lineno="1329"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>generated<sp/>sequence<sp/>will<sp/>repeat<sp/>every<sp/>256<sp/>values.</highlight></codeline>
<codeline lineno="1330"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>sequence<sp/>itself<sp/>depends<sp/>on<sp/>the<sp/>initial<sp/>seed<sp/>value.</highlight></codeline>
<codeline lineno="1331"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1332"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1333"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1334"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>random<sp/>byte</highlight></codeline>
<codeline lineno="1335"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1336"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1337" refid="mrfi__radio_8c_1a6b3e99528ed42a97268bf7049adb4d54" refkind="member"><highlight class="normal"><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi_8h_1a6b3e99528ed42a97268bf7049adb4d54" kindref="member">MRFI_RandomByte</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1338"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/>mrfiRndSeed<sp/>=<sp/>(mrfiRndSeed*<ref refid="mrfi__radio_8c_1afddadaf48b68e6de984a18306f18b1b6" kindref="member">MRFI_RANDOM_MULTIPLIER</ref>)<sp/>+<sp/><ref refid="mrfi__radio_8c_1adf39d1352e9a6635f0657d73d7362b37" kindref="member">MRFI_RANDOM_OFFSET</ref>;</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1ab9d7f1ca3de7599f48559d639b6e57dc" kindref="member">mrfiRndSeed</ref>;</highlight></codeline>
<codeline lineno="1342"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"></highlight></codeline>
<codeline lineno="1344"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1345"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_RandomBackoffDelay</highlight></codeline>
<codeline lineno="1346"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1347"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>-</highlight></codeline>
<codeline lineno="1348"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1349"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1350"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1351"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1352"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1353"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1354" refid="mrfi__radio_8c_1a5ecaec7c14473496c253ade03429c4cf" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1a5ecaec7c14473496c253ade03429c4cf" kindref="member">Mrfi_RandomBackoffDelay</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1355"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>backoffs;</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>i;</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"></highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>calculate<sp/>random<sp/>value<sp/>for<sp/>backoffs<sp/>-<sp/>1<sp/>to<sp/>16<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/>backoffs<sp/>=<sp/>(<ref refid="mrfi_8h_1a6b3e99528ed42a97268bf7049adb4d54" kindref="member">MRFI_RandomByte</ref>()<sp/>&amp;<sp/>0x0F)<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"></highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>delay<sp/>for<sp/>randomly<sp/>computed<sp/>number<sp/>of<sp/>backoff<sp/>periods<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;backoffs;<sp/>i++)</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1aba4df305a531259d11ecc7f6e93eb188" kindref="member">Mrfi_DelayUsec</ref>(<sp/>sBackoffHelper<sp/>);</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"></highlight></codeline>
<codeline lineno="1369"><highlight class="normal"></highlight><highlight class="comment">/****************************************************************************************************</highlight></codeline>
<codeline lineno="1370"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_DelayUsec</highlight></codeline>
<codeline lineno="1371"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1372"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Execute<sp/>a<sp/>delay<sp/>loop<sp/>using<sp/>HW<sp/>timer.<sp/>The<sp/>macro<sp/>actually<sp/>used<sp/>to<sp/>do<sp/>the<sp/>delay</highlight></codeline>
<codeline lineno="1373"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>not<sp/>thread-safe.<sp/>This<sp/>routine<sp/>makes<sp/>the<sp/>delay<sp/>execution<sp/>thread-safe<sp/>by<sp/>breaking</highlight></codeline>
<codeline lineno="1374"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>up<sp/>the<sp/>requested<sp/>delay<sp/>up<sp/>into<sp/>small<sp/>chunks<sp/>and<sp/>executing<sp/>each<sp/>chunk<sp/>as<sp/>a<sp/>critical</highlight></codeline>
<codeline lineno="1375"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>section.<sp/>The<sp/>chunk<sp/>size<sp/>is<sp/>choosen<sp/>to<sp/>be<sp/>the<sp/>smallest<sp/>value<sp/>used<sp/>by<sp/>MRFI.<sp/>The<sp/>delay</highlight></codeline>
<codeline lineno="1376"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>only<sp/>approximate<sp/>because<sp/>of<sp/>the<sp/>overhead<sp/>computations.<sp/>It<sp/>errs<sp/>on<sp/>the<sp/>side<sp/>of</highlight></codeline>
<codeline lineno="1377"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>being<sp/>too<sp/>long.</highlight></codeline>
<codeline lineno="1378"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1379"><highlight class="comment"><sp/>*<sp/>input<sp/>parameters</highlight></codeline>
<codeline lineno="1380"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/>howLong<sp/>-<sp/>number<sp/>of<sp/>microseconds<sp/>to<sp/>delay</highlight></codeline>
<codeline lineno="1381"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1382"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1383"><highlight class="comment"><sp/>****************************************************************************************************</highlight></codeline>
<codeline lineno="1384"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1385" refid="mrfi__radio_8c_1aba4df305a531259d11ecc7f6e93eb188" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1aba4df305a531259d11ecc7f6e93eb188" kindref="member">Mrfi_DelayUsec</ref>(<ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>howLong)</highlight></codeline>
<codeline lineno="1386"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1ad45ed2a3e324170701c79dca25f0bbc9" kindref="member">bspIState_t</ref><sp/>s;</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>count<sp/>=<sp/>howLong/<ref refid="mrfi__radio_8c_1a47e4855fe6e3331fc4e25a22a62522a3" kindref="member">MRFI_MAX_DELAY_US</ref>;</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"></highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(howLong)</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1a4d19917ceac9ef0f757b861e802d22ad" kindref="member">BSP_ENTER_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp__board__defs_8h_1af71d322ea548f4f27e7cf77804fea2cc" kindref="member">BSP_DELAY_USECS</ref>(<ref refid="mrfi__radio_8c_1a47e4855fe6e3331fc4e25a22a62522a3" kindref="member">MRFI_MAX_DELAY_US</ref>);</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1abd6fc0d94f04f101b14219891a771465" kindref="member">BSP_EXIT_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(count--);</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"></highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1401"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1402"><highlight class="normal"></highlight></codeline>
<codeline lineno="1403"><highlight class="normal"></highlight><highlight class="comment">/****************************************************************************************************</highlight></codeline>
<codeline lineno="1404"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_DelayUsecSem</highlight></codeline>
<codeline lineno="1405"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1406"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Execute<sp/>a<sp/>delay<sp/>loop<sp/>using<sp/>a<sp/>HW<sp/>timer.<sp/>See<sp/>comments<sp/>for<sp/>Mrfi_DelayUsec().</highlight></codeline>
<codeline lineno="1407"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Delay<sp/>specified<sp/>number<sp/>of<sp/>microseconds<sp/>checking<sp/>semaphore<sp/>for</highlight></codeline>
<codeline lineno="1408"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>early-out.<sp/>Run<sp/>in<sp/>a<sp/>separate<sp/>thread<sp/>when<sp/>the<sp/>reply<sp/>delay<sp/>is</highlight></codeline>
<codeline lineno="1409"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>invoked.<sp/>Cleaner<sp/>then<sp/>trying<sp/>to<sp/>make<sp/>MRFI_DelayUsec()<sp/>thread-safe</highlight></codeline>
<codeline lineno="1410"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>reentrant.</highlight></codeline>
<codeline lineno="1411"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1412"><highlight class="comment"><sp/>*<sp/>input<sp/>parameters</highlight></codeline>
<codeline lineno="1413"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/>howLong<sp/>-<sp/>number<sp/>of<sp/>microseconds<sp/>to<sp/>delay</highlight></codeline>
<codeline lineno="1414"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1415"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1416"><highlight class="comment"><sp/>****************************************************************************************************</highlight></codeline>
<codeline lineno="1417"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1418" refid="mrfi__radio_8c_1aad4d0f03bbaa5047b7cee916ac700969" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1aad4d0f03bbaa5047b7cee916ac700969" kindref="member">Mrfi_DelayUsecSem</ref>(<ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>howLong)</highlight></codeline>
<codeline lineno="1419"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1ad45ed2a3e324170701c79dca25f0bbc9" kindref="member">bspIState_t</ref><sp/>s;</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>count<sp/>=<sp/>howLong/<ref refid="mrfi__radio_8c_1a47e4855fe6e3331fc4e25a22a62522a3" kindref="member">MRFI_MAX_DELAY_US</ref>;</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"></highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(howLong)</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1a4d19917ceac9ef0f757b861e802d22ad" kindref="member">BSP_ENTER_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp__board__defs_8h_1af71d322ea548f4f27e7cf77804fea2cc" kindref="member">BSP_DELAY_USECS</ref>(<ref refid="mrfi__radio_8c_1a47e4855fe6e3331fc4e25a22a62522a3" kindref="member">MRFI_MAX_DELAY_US</ref>);</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bsp_8h_1abd6fc0d94f04f101b14219891a771465" kindref="member">BSP_EXIT_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sKillSem)</highlight></codeline>
<codeline lineno="1431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(count--);</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"></highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1438"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1439"><highlight class="normal"></highlight></codeline>
<codeline lineno="1440"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1441"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_DelayMs</highlight></codeline>
<codeline lineno="1442"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1443"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Delay<sp/>the<sp/>specified<sp/>number<sp/>of<sp/>milliseconds.</highlight></codeline>
<codeline lineno="1444"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1445"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>milliseconds<sp/>-<sp/>delay<sp/>time</highlight></codeline>
<codeline lineno="1446"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1447"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1448"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1449"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1450" refid="mrfi__radio_8c_1a18c106468b2941bb9d7a59c3018c125b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a2eb603c4059f0c6c314ebf6d855beb8c" kindref="member">MRFI_DelayMs</ref>(<ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/>milliseconds)</highlight></codeline>
<codeline lineno="1451"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(milliseconds)</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1aba4df305a531259d11ecc7f6e93eb188" kindref="member">Mrfi_DelayUsec</ref>(<sp/><ref refid="mrfi__radio_8c_1af8ee2cd717ac3ef42d40ae1ee3761c9f" kindref="member">APP_USEC_VALUE</ref><sp/>);</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/>milliseconds--;</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1457"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"></highlight></codeline>
<codeline lineno="1459"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1460"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_ReplyDelay</highlight></codeline>
<codeline lineno="1461"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1462"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Delay<sp/>number<sp/>of<sp/>milliseconds<sp/>scaled<sp/>by<sp/>data<sp/>rate.<sp/>Check<sp/>semaphore<sp/>for</highlight></codeline>
<codeline lineno="1463"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>early-out.<sp/>Run<sp/>in<sp/>a<sp/>separate<sp/>thread<sp/>when<sp/>the<sp/>reply<sp/>delay<sp/>is</highlight></codeline>
<codeline lineno="1464"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>invoked.<sp/>Cleaner<sp/>then<sp/>trying<sp/>to<sp/>make<sp/>MRFI_DelayMs()<sp/>thread-safe</highlight></codeline>
<codeline lineno="1465"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>reentrant.</highlight></codeline>
<codeline lineno="1466"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1467"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1468"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1469"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1470"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1471"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1472" refid="mrfi__radio_8c_1a5c2aca575e24fe94af467ed01dcbfe3c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a5c2aca575e24fe94af467ed01dcbfe3c" kindref="member">MRFI_ReplyDelay</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1473"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1ad45ed2a3e324170701c79dca25f0bbc9" kindref="member">bspIState_t</ref><sp/>s;</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1a273cf69d639a59973b6019625df33e30" kindref="member">uint16_t</ref><sp/><sp/><sp/><sp/>milliseconds<sp/>=<sp/><ref refid="mrfi__radio_8c_1a75fb1d33bb56d58cb4bff1a1e670bc4b" kindref="member">sReplyDelayScalar</ref>;</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"></highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1a4d19917ceac9ef0f757b861e802d22ad" kindref="member">BSP_ENTER_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/>sReplyDelayContext<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1abd6fc0d94f04f101b14219891a771465" kindref="member">BSP_EXIT_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"></highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(milliseconds)</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1aad4d0f03bbaa5047b7cee916ac700969" kindref="member">Mrfi_DelayUsecSem</ref>(<sp/><ref refid="mrfi__radio_8c_1af8ee2cd717ac3ef42d40ae1ee3761c9f" kindref="member">APP_USEC_VALUE</ref><sp/>);</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sKillSem)</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/>milliseconds--;</highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"></highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1a4d19917ceac9ef0f757b861e802d22ad" kindref="member">BSP_ENTER_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/>sKillSem<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/>sReplyDelayContext<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><ref refid="bsp_8h_1abd6fc0d94f04f101b14219891a771465" kindref="member">BSP_EXIT_CRITICAL_SECTION</ref>(s);</highlight></codeline>
<codeline lineno="1495"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"></highlight></codeline>
<codeline lineno="1497"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1498"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_PostKillSem</highlight></codeline>
<codeline lineno="1499"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1500"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Post<sp/>to<sp/>the<sp/>loop-kill<sp/>semaphore<sp/>that<sp/>will<sp/>be<sp/>checked<sp/>by<sp/>the<sp/>iteration<sp/>loops</highlight></codeline>
<codeline lineno="1501"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>that<sp/>control<sp/>the<sp/>delay<sp/>thread.</highlight></codeline>
<codeline lineno="1502"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1503"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1504"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1505"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1506"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1507"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1508" refid="mrfi__radio_8c_1aaaf153a631431034366287b4bda0e20b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1aaaf153a631431034366287b4bda0e20b" kindref="member">MRFI_PostKillSem</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1509"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"></highlight></codeline>
<codeline lineno="1511"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sReplyDelayContext)</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/>sKillSem<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"></highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1517"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1520"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_GetRadioState</highlight></codeline>
<codeline lineno="1521"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1522"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns<sp/>the<sp/>current<sp/>radio<sp/>state.</highlight></codeline>
<codeline lineno="1523"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1524"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1525"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1526"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>radio<sp/>state<sp/>-<sp/>off/idle/rx</highlight></codeline>
<codeline lineno="1527"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1528"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1529" refid="mrfi__radio_8c_1a78b8022aa1ad9df54a267a1294ac6942" refkind="member"><highlight class="normal"><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi_8h_1a78b8022aa1ad9df54a267a1294ac6942" kindref="member">MRFI_GetRadioState</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1530"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mrfi__radio_8c_1a6f6fa3a6d7ec2b31dd3daf3b57a7496b" kindref="member">mrfiRadioState</ref>;</highlight></codeline>
<codeline lineno="1532"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"></highlight></codeline>
<codeline lineno="1534"><highlight class="normal"></highlight></codeline>
<codeline lineno="1535"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1536"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_SetLogicalChannel</highlight></codeline>
<codeline lineno="1537"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1538"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Set<sp/>logical<sp/>channel.</highlight></codeline>
<codeline lineno="1539"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1540"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>chan<sp/>-<sp/>logical<sp/>channel<sp/>number</highlight></codeline>
<codeline lineno="1541"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1542"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1543"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1544"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1545" refid="mrfi__radio_8c_1ab72759da83914d510c2302d378a71d30" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a7bcef0eebe11bd7fd93dc1c862494a5d" kindref="member">MRFI_SetLogicalChannel</ref>(<ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>chan)</highlight></codeline>
<codeline lineno="1546"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>logical<sp/>channel<sp/>is<sp/>not<sp/>valid?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>chan<sp/>&lt;<sp/><ref refid="mrfi_8h_1a7410fd1bd102d6288c117e67d46d2591" kindref="member">MRFI_NUM_LOGICAL_CHANS</ref><sp/>);</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"></highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>make<sp/>sure<sp/>radio<sp/>is<sp/>off<sp/>before<sp/>changing<sp/>channels<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1ab5226da2a741902349741985858d0fbe" kindref="member">Mrfi_RxModeOff</ref>();</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"></highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" kindref="member">MRFI_RADIO_REG_WRITE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a27cd13ed559b193e4a35fc9a6005b1ae" kindref="member">CHANNR</ref>,<sp/>mrfiLogicalChanTable[chan]<sp/>);</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"></highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>turn<sp/>radio<sp/>back<sp/>on<sp/>if<sp/>it<sp/>was<sp/>on<sp/>before<sp/>channel<sp/>change<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mrfiRadioState<sp/>==<sp/><ref refid="mrfi_8h_1a0837380121f5b8443f48bf6df1061381" kindref="member">MRFI_RADIO_STATE_RX</ref>)</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mrfi__radio_8c_1a75fb468376bdd2a0153a132ae6e63a57" kindref="member">Mrfi_RxModeOn</ref>();</highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1560"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"></highlight></codeline>
<codeline lineno="1562"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1563"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_SetRFPwr</highlight></codeline>
<codeline lineno="1564"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1565"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Set<sp/>ouput<sp/>RF<sp/>power<sp/>level.</highlight></codeline>
<codeline lineno="1566"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1567"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>level<sp/>-<sp/>power<sp/>level<sp/>to<sp/>be<sp/>set</highlight></codeline>
<codeline lineno="1568"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1569"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1570"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1571"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1572" refid="mrfi__radio_8c_1a289846de3444facbbaace8d79ab6f9fb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a0477d2a72f6f9c8999af6bc0feb17a9f" kindref="member">MRFI_SetRFPwr</ref>(<ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>level)</highlight></codeline>
<codeline lineno="1573"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Power<sp/>level<sp/>is<sp/>not<sp/>valid?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(<sp/>level<sp/>&lt;<sp/><ref refid="mrfi_8h_1a012441b369f8987ae97a7e2a0c827f76" kindref="member">MRFI_NUM_POWER_SETTINGS</ref><sp/>);</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"></highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" kindref="member">MRFI_RADIO_REG_WRITE</ref>(<ref refid="mrfi__radio__interface_8h_1a107f2eeb5b18f9e0b6f63050ef435445" kindref="member">PATABLE</ref>,<sp/>mrfiRFPowerTable[level]);</highlight></codeline>
<codeline lineno="1578"><highlight class="normal"></highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1580"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1582"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_SetRxAddrFilter</highlight></codeline>
<codeline lineno="1583"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1584"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Set<sp/>the<sp/>address<sp/>used<sp/>for<sp/>filtering<sp/>received<sp/>packets.</highlight></codeline>
<codeline lineno="1585"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1586"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>pAddr<sp/>-<sp/>pointer<sp/>to<sp/>address<sp/>to<sp/>use<sp/>for<sp/>filtering</highlight></codeline>
<codeline lineno="1587"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1588"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>zero<sp/><sp/><sp/><sp/><sp/>:<sp/>successfully<sp/>set<sp/>filter<sp/>address</highlight></codeline>
<codeline lineno="1589"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>non-zero<sp/>:<sp/>illegal<sp/>address</highlight></codeline>
<codeline lineno="1590"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1591"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1592" refid="mrfi__radio_8c_1a6e7d9045c88bed685ac7424103aa0b99" refkind="member"><highlight class="normal"><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi_8h_1a4fa30a39484ae05adcec7332270d3f26" kindref="member">MRFI_SetRxAddrFilter</ref>(<ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>*<sp/>pAddr)</highlight></codeline>
<codeline lineno="1593"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1595"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>If<sp/>first<sp/>byte<sp/>of<sp/>filter<sp/>address<sp/>match<sp/>fir<sp/>byte<sp/>of<sp/>broadcast<sp/>address,</highlight></codeline>
<codeline lineno="1596"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>there<sp/>is<sp/>a<sp/>conflict<sp/>with<sp/>hardware<sp/>filtering.</highlight></codeline>
<codeline lineno="1597"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pAddr[0]<sp/>==<sp/><ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0])</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unable<sp/>to<sp/>set<sp/>filter<sp/>address<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"></highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1605"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>Set<sp/>the<sp/>hardware<sp/>address<sp/>register.<sp/><sp/>The<sp/>hardware<sp/>address<sp/>filtering<sp/>only<sp/>recognizes</highlight></codeline>
<codeline lineno="1606"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>a<sp/>single<sp/>byte<sp/>but<sp/>this<sp/>does<sp/>provide<sp/>at<sp/>least<sp/>some<sp/>automatic<sp/>hardware<sp/>filtering.</highlight></codeline>
<codeline lineno="1607"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" kindref="member">MRFI_RADIO_REG_WRITE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1ac9f31f726d2933782e2efda7136a25fd" kindref="member">ADDR</ref>,<sp/>pAddr[0]<sp/>);</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"></highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>save<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>filter<sp/>address<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>i;</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"></highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;<ref refid="mrfi_8h_1a5491e55db4c46a461c9e86faa9e0a9b1" kindref="member">MRFI_ADDR_SIZE</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mrfiRxFilterAddr[i]<sp/>=<sp/>pAddr[i];</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"></highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>successfully<sp/>set<sp/>filter<sp/>address<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="1622"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1623"><highlight class="normal"></highlight></codeline>
<codeline lineno="1624"><highlight class="normal"></highlight></codeline>
<codeline lineno="1625"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1626"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_EnableRxAddrFilter</highlight></codeline>
<codeline lineno="1627"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1628"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Enable<sp/>received<sp/>packet<sp/>filtering.</highlight></codeline>
<codeline lineno="1629"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1630"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1631"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1632"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1633"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1634"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1635" refid="mrfi__radio_8c_1adc6ecae669970becb9917673fe548e55" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1adc6ecae669970becb9917673fe548e55" kindref="member">MRFI_EnableRxAddrFilter</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1636"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><ref refid="mrfi__defs_8h_1ab2acee126e6be0cd90f60f2bd73e99a0" kindref="member">MRFI_ASSERT</ref>(mrfiRxFilterAddr[0]<sp/>!=<sp/><ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0]);<sp/></highlight><highlight class="comment">/*<sp/>filter<sp/>address<sp/>must<sp/>be<sp/>set<sp/>before<sp/>enabling<sp/>filter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1638"><highlight class="normal"></highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>flag<sp/>to<sp/>indicate<sp/>filtering<sp/>is<sp/>enabled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/>mrfiRxFilterEnabled<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1641"><highlight class="normal"></highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>enable<sp/>hardware<sp/>filtering<sp/>on<sp/>the<sp/>radio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" kindref="member">MRFI_RADIO_REG_WRITE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a677bd90f5ee6fe7cf9e1388785b6b1bc" kindref="member">PKTCTRL1</ref>,<sp/><ref refid="mrfi__radio_8c_1abaa8fa66214d72a45a1bac469f318e8d" kindref="member">PKTCTRL1_ADDR_FILTER_ON</ref><sp/>);</highlight></codeline>
<codeline lineno="1644"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"></highlight></codeline>
<codeline lineno="1646"><highlight class="normal"></highlight></codeline>
<codeline lineno="1647"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1648"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRFI_DisableRxAddrFilter</highlight></codeline>
<codeline lineno="1649"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1650"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Disable<sp/>received<sp/>packet<sp/>filtering.</highlight></codeline>
<codeline lineno="1651"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1652"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>pAddr<sp/>-<sp/>pointer<sp/>to<sp/>address<sp/>to<sp/>test<sp/>for<sp/>filtering</highlight></codeline>
<codeline lineno="1653"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1654"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1655"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1656"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1657" refid="mrfi__radio_8c_1a4d01c68a913ebac8aad07c90f333aff1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mrfi_8h_1a4d01c68a913ebac8aad07c90f333aff1" kindref="member">MRFI_DisableRxAddrFilter</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1658"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>flag<sp/>that<sp/>indicates<sp/>filtering<sp/>is<sp/>enabled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/>mrfiRxFilterEnabled<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"></highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>disable<sp/>hardware<sp/>filtering<sp/>on<sp/>the<sp/>radio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/><ref refid="mrfi__radio_8c_1a8ff4a4e42c9a12514024f81329812ec3" kindref="member">MRFI_RADIO_REG_WRITE</ref>(<sp/><ref refid="mrfi__radio__interface_8h_1a677bd90f5ee6fe7cf9e1388785b6b1bc" kindref="member">PKTCTRL1</ref>,<sp/><ref refid="mrfi__radio_8c_1ab55b7b899673901d1799741f5dade4cb" kindref="member">PKTCTRL1_ADDR_FILTER_OFF</ref><sp/>);</highlight></codeline>
<codeline lineno="1664"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"></highlight></codeline>
<codeline lineno="1666"><highlight class="normal"></highlight></codeline>
<codeline lineno="1667"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1668"><highlight class="comment"><sp/>*<sp/>@fn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mrfi_RxAddrIsFiltered</highlight></codeline>
<codeline lineno="1669"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1670"><highlight class="comment"><sp/>*<sp/>@brief<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Determine<sp/>if<sp/>address<sp/>is<sp/>filtered.</highlight></codeline>
<codeline lineno="1671"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1672"><highlight class="comment"><sp/>*<sp/>@param<sp/><sp/><sp/><sp/><sp/><sp/><sp/>none</highlight></codeline>
<codeline lineno="1673"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1674"><highlight class="comment"><sp/>*<sp/>@return<sp/><sp/><sp/><sp/><sp/><sp/>zero<sp/><sp/><sp/><sp/><sp/>:<sp/>address<sp/>is<sp/>not<sp/>filtered</highlight></codeline>
<codeline lineno="1675"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>non-zero<sp/>:<sp/>address<sp/>is<sp/>filtered</highlight></codeline>
<codeline lineno="1676"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1677"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1678" refid="mrfi__radio_8c_1a5f770a9f4e5bdbcce429e1cb7311497f" refkind="member"><highlight class="normal"><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/><ref refid="mrfi__radio_8c_1a5f770a9f4e5bdbcce429e1cb7311497f" kindref="member">Mrfi_RxAddrIsFiltered</ref>(<ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>*<sp/>pAddr)</highlight></codeline>
<codeline lineno="1679"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>i;</highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>addrByte;</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>filterAddrMatches;</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><ref refid="bsp__msp430__defs_8h_1aba7bc1797add20fe3efdf37ced1182c5" kindref="member">uint8_t</ref><sp/>broadcastAddrMatches;</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"></highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>first<sp/>check<sp/>to<sp/>see<sp/>if<sp/>filtering<sp/>is<sp/>even<sp/>enabled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mrfiRxFilterEnabled)</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1689"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>Filtering<sp/>is<sp/>not<sp/>enabled,<sp/>so<sp/>by<sp/>definition<sp/>the<sp/>address<sp/>is</highlight></codeline>
<codeline lineno="1690"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>not<sp/>filtered.<sp/><sp/>Return<sp/>zero<sp/>to<sp/>indicate<sp/>address<sp/>is<sp/>not<sp/>filtered.</highlight></codeline>
<codeline lineno="1691"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"></highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>address<sp/>byte<sp/>match<sp/>counts<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/>filterAddrMatches<sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/>broadcastAddrMatches<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"></highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>loop<sp/>through<sp/>address<sp/>to<sp/>see<sp/>if<sp/>there<sp/>is<sp/>a<sp/>match<sp/>to<sp/>filter<sp/>address<sp/>of<sp/>broadcast<sp/>address<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;<ref refid="mrfi_8h_1a5491e55db4c46a461c9e86faa9e0a9b1" kindref="member">MRFI_ADDR_SIZE</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>byte<sp/>from<sp/>address<sp/>to<sp/>check<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/>addrByte<sp/>=<sp/>pAddr[i];</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"></highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compare<sp/>byte<sp/>to<sp/>filter<sp/>address<sp/>byte<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(addrByte<sp/>==<sp/>mrfiRxFilterAddr[i])</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>filterAddrMatches++;</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(addrByte<sp/>==<sp/><ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[i])</highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>broadcastAddrMatches++;</highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"></highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1717"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>If<sp/>address<sp/>is<sp/>*not*<sp/>filtered,<sp/>either<sp/>the<sp/>&quot;filter<sp/>address<sp/>match<sp/>count&quot;<sp/>or</highlight></codeline>
<codeline lineno="1718"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>the<sp/>&quot;broadcast<sp/>address<sp/>match<sp/>count&quot;<sp/>will<sp/>equal<sp/>the<sp/>total<sp/>number<sp/>of<sp/>bytes</highlight></codeline>
<codeline lineno="1719"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/>in<sp/>the<sp/>address.</highlight></codeline>
<codeline lineno="1720"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((broadcastAddrMatches<sp/>==<sp/>MRFI_ADDR_SIZE)<sp/>||<sp/>(filterAddrMatches<sp/>==<sp/>MRFI_ADDR_SIZE))</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>address<sp/>*not*<sp/>filtered,<sp/>return<sp/>zero<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>address<sp/>filtered,<sp/>return<sp/>non-zero<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1731"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"></highlight></codeline>
<codeline lineno="1733"><highlight class="normal"></highlight></codeline>
<codeline lineno="1734"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1735"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Compile<sp/>Time<sp/>Integrity<sp/>Checks</highlight></codeline>
<codeline lineno="1736"><highlight class="comment"><sp/>**************************************************************************************************</highlight></codeline>
<codeline lineno="1737"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1738"><highlight class="normal"></highlight></codeline>
<codeline lineno="1739"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>calculate<sp/>maximum<sp/>value<sp/>for<sp/>PKTLEN<sp/>and<sp/>verify<sp/>it<sp/>directly<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1740" refid="mrfi__radio_8c_1addf1c7a9247fbab51c85d782149ef216" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_TX_FIFO_SIZE<sp/><sp/><sp/><sp/><sp/>64<sp/><sp/></highlight><highlight class="comment">/*<sp/>from<sp/>datasheet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1741" refid="mrfi__radio_8c_1ae4b9533713105c031f9573a961122608" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MRFI_RADIO_MAX_PKTLEN<sp/><sp/><sp/><sp/><sp/><sp/><sp/>(MRFI_RADIO_TX_FIFO_SIZE<sp/>-<sp/>MRFI_LENGTH_FIELD_SIZE<sp/>-<sp/>MRFI_RX_METRICS_SIZE)</highlight></codeline>
<codeline lineno="1742"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#if<sp/>(MRFI_RADIO_MAX_PKTLEN<sp/>!=<sp/>61)</highlight></codeline>
<codeline lineno="1743"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#error<sp/>&quot;ERROR:<sp/><sp/>The<sp/>maximum<sp/>value<sp/>for<sp/>PKTLEN<sp/>is<sp/>not<sp/>correct.&quot;</highlight></codeline>
<codeline lineno="1744"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="1745"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1746"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>verify<sp/>setting<sp/>for<sp/>PKTLEN<sp/>does<sp/>not<sp/>exceed<sp/>maximum<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1747"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(MRFI_SETTING_PKTLEN<sp/>&gt;<sp/>MRFI_RADIO_MAX_PKTLEN)</highlight></codeline>
<codeline lineno="1748"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#error<sp/>&quot;ERROR:<sp/><sp/>Maximum<sp/>possible<sp/>value<sp/>for<sp/>PKTLEN<sp/>exceeded.<sp/><sp/>Decrease<sp/>value<sp/>of<sp/>maximum<sp/>payload.&quot;</highlight></codeline>
<codeline lineno="1749"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="1750"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1751"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>verify<sp/>largest<sp/>possible<sp/>packet<sp/>fits<sp/>within<sp/>FIFO<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1752"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((MRFI_MAX_FRAME_SIZE<sp/>+<sp/>MRFI_RX_METRICS_SIZE)<sp/>&gt;<sp/>MRFI_RADIO_TX_FIFO_SIZE)</highlight></codeline>
<codeline lineno="1753"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#error<sp/>&quot;ERROR:<sp/><sp/>Maximum<sp/>possible<sp/>packet<sp/>length<sp/>exceeds<sp/>FIFO<sp/>buffer.<sp/><sp/>Decrease<sp/>value<sp/>of<sp/>maximum<sp/>payload.&quot;</highlight></codeline>
<codeline lineno="1754"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="1755"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1756"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>verify<sp/>that<sp/>the<sp/>SmartRF<sp/>file<sp/>supplied<sp/>is<sp/>compatible<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1757"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((!defined<sp/>SMARTRF_RADIO_CC430))</highlight></codeline>
<codeline lineno="1758"><highlight class="preprocessor"></highlight><highlight class="preprocessor"><sp/><sp/>#error<sp/>&quot;ERROR:<sp/><sp/>The<sp/>SmartRF<sp/>export<sp/>file<sp/>is<sp/>not<sp/>compatible.&quot;</highlight></codeline>
<codeline lineno="1759"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="1760"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1761"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1762"><highlight class="comment"><sp/>*<sp/><sp/>These<sp/>asserts<sp/>happen<sp/>if<sp/>there<sp/>is<sp/>extraneous<sp/>compiler<sp/>padding<sp/>of<sp/>arrays.</highlight></codeline>
<codeline lineno="1763"><highlight class="comment"><sp/>*<sp/><sp/>Modify<sp/>compiler<sp/>settings<sp/>for<sp/>no<sp/>padding,<sp/>or,<sp/>if<sp/>that<sp/>is<sp/>not<sp/>possible,</highlight></codeline>
<codeline lineno="1764"><highlight class="comment"><sp/>*<sp/><sp/>comment<sp/>out<sp/>the<sp/>offending<sp/>asserts.</highlight></codeline>
<codeline lineno="1765"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><ref refid="bsp_8h_1aae3bdc117283b7ac5f61db061a66f7f0" kindref="member">BSP_STATIC_ASSERT</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRadioCfg)<sp/>==<sp/>((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRadioCfg)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRadioCfg[0]))<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiRadioCfg[0])));</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"></highlight></codeline>
<codeline lineno="1768"><highlight class="normal"></highlight></codeline>
<codeline lineno="1769"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1770"><highlight class="comment"><sp/>*<sp/><sp/>These<sp/>asserts<sp/>happen<sp/>if<sp/>there<sp/>is<sp/>extraneous<sp/>compiler<sp/>padding<sp/>of<sp/>arrays.</highlight></codeline>
<codeline lineno="1771"><highlight class="comment"><sp/>*<sp/><sp/>Modify<sp/>compiler<sp/>settings<sp/>for<sp/>no<sp/>padding,<sp/>or,<sp/>if<sp/>that<sp/>is<sp/>not<sp/>possible,</highlight></codeline>
<codeline lineno="1772"><highlight class="comment"><sp/>*<sp/><sp/>comment<sp/>out<sp/>the<sp/>offending<sp/>asserts.</highlight></codeline>
<codeline lineno="1773"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><ref refid="bsp_8h_1aae3bdc117283b7ac5f61db061a66f7f0" kindref="member">BSP_STATIC_ASSERT</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiLogicalChanTable)<sp/>==<sp/>((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiLogicalChanTable)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiLogicalChanTable[0]))<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(mrfiLogicalChanTable[0])));</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><ref refid="bsp_8h_1aae3bdc117283b7ac5f61db061a66f7f0" kindref="member">BSP_STATIC_ASSERT</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>)<sp/>==<sp/>((</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0]))<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="mrfi_8h_1a00c46c3b81bfaffab8fb53bc2cf0a9c5" kindref="member">mrfiBroadcastAddr</ref>[0])));</highlight></codeline>
<codeline lineno="1776"><highlight class="normal"></highlight></codeline>
<codeline lineno="1777"><highlight class="normal"></highlight><highlight class="comment">/**************************************************************************************************</highlight></codeline>
<codeline lineno="1778"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/francispapineau/Documents/4th year project/Source Code/Black-Box-Mouse-Interface/Original Code/V2.2/simpliciti/Components/mrfi/radios/family5/mrfi_radio.c"/>
  </compounddef>
</doxygen>
